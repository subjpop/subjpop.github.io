/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={461:(t,e,i)=>{t=i.nmd(t),function(){"use strict";function e(t,e){if(e&&e.multiple&&!Array.isArray(t))throw new Error("Invalid argument type: Expected an Array to serialize multiple values.");const i=4294967296;let n,s,r=new Uint8Array(128),a=0;if(e&&e.multiple)for(let e=0;e<t.length;e++)o(t[e]);else o(t);return r.subarray(0,a);function o(t,r){switch(typeof t){case"undefined":l();break;case"boolean":!function(t){h(t?195:194)}(t);break;case"number":!function(t){if(isFinite(t)&&Math.floor(t)===t)if(t>=0&&t<=127)h(t);else if(t<0&&t>=-32)h(t);else if(t>0&&t<=255)d([204,t]);else if(t>=-128&&t<=127)d([208,t]);else if(t>0&&t<=65535)d([205,t>>>8,t]);else if(t>=-32768&&t<=32767)d([209,t>>>8,t]);else if(t>0&&t<=4294967295)d([206,t>>>24,t>>>16,t>>>8,t]);else if(t>=-2147483648&&t<=2147483647)d([210,t>>>24,t>>>16,t>>>8,t]);else if(t>0&&t<=0x10000000000000000){let e=t/i,n=t%i;d([211,e>>>24,e>>>16,e>>>8,e,n>>>24,n>>>16,n>>>8,n])}else t>=-0x8000000000000000&&t<=0x8000000000000000?(h(211),u(t)):d(t<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]);else s||(n=new ArrayBuffer(8),s=new DataView(n)),s.setFloat64(0,t),h(203),d(new Uint8Array(n))}(t);break;case"string":!function(t){let e=function(t){let e=!0,i=t.length;for(let n=0;n<i;n++)if(t.charCodeAt(n)>127){e=!1;break}let n=0,s=new Uint8Array(t.length*(e?1:4));for(let e=0;e!==i;e++){let r=t.charCodeAt(e);if(r<128)s[n++]=r;else{if(r<2048)s[n++]=r>>6|192;else{if(r>55295&&r<56320){if(++e>=i)throw new Error("UTF-8 encode: incomplete surrogate pair");let a=t.charCodeAt(e);if(a<56320||a>57343)throw new Error("UTF-8 encode: second surrogate character 0x"+a.toString(16)+" at index "+e+" out of range");r=65536+((1023&r)<<10)+(1023&a),s[n++]=r>>18|240,s[n++]=r>>12&63|128}else s[n++]=r>>12|224;s[n++]=r>>6&63|128}s[n++]=63&r|128}}return e?s:s.subarray(0,n)}(t),i=e.length;i<=31?h(160+i):d(i<=255?[217,i]:i<=65535?[218,i>>>8,i]:[219,i>>>24,i>>>16,i>>>8,i]),d(e)}(t);break;case"object":null===t?l():t instanceof Date?function(t){let e=t.getTime()/1e3;if(0===t.getMilliseconds()&&e>=0&&e<4294967296)d([214,255,e>>>24,e>>>16,e>>>8,e]);else if(e>=0&&e<17179869184){let n=1e6*t.getMilliseconds();d([215,255,n>>>22,n>>>14,n>>>6,n<<2>>>0|e/i,e>>>24,e>>>16,e>>>8,e])}else{let i=1e6*t.getMilliseconds();d([199,12,255,i>>>24,i>>>16,i>>>8,i]),u(e)}}(t):Array.isArray(t)?c(t):t instanceof Uint8Array||t instanceof Uint8ClampedArray?function(t){let e=t.length;d(e<=15?[196,e]:e<=65535?[197,e>>>8,e]:[198,e>>>24,e>>>16,e>>>8,e]),d(t)}(t):t instanceof Int8Array||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array?c(t):function(t){let e=0;for(let i in t)void 0!==t[i]&&e++;e<=15?h(128+e):d(e<=65535?[222,e>>>8,e]:[223,e>>>24,e>>>16,e>>>8,e]);for(let e in t){let i=t[e];void 0!==i&&(o(e),o(i))}}(t);break;default:if(r||!e||!e.invalidTypeReplacement)throw new Error("Invalid argument type: The type '"+typeof t+"' cannot be serialized.");"function"==typeof e.invalidTypeReplacement?o(e.invalidTypeReplacement(t),!0):o(e.invalidTypeReplacement,!0)}}function l(t){h(192)}function c(t){let e=t.length;e<=15?h(144+e):d(e<=65535?[220,e>>>8,e]:[221,e>>>24,e>>>16,e>>>8,e]);for(let i=0;i<e;i++)o(t[i])}function h(t){if(r.length<a+1){let t=2*r.length;for(;t<a+1;)t*=2;let e=new Uint8Array(t);e.set(r),r=e}r[a]=t,a++}function d(t){if(r.length<a+t.length){let e=2*r.length;for(;e<a+t.length;)e*=2;let i=new Uint8Array(e);i.set(r),r=i}r.set(t,a),a+=t.length}function u(t){let e,n;t>=0?(e=t/i,n=t%i):(t++,e=Math.abs(t)/i,n=Math.abs(t)%i,e=~e,n=~n),d([e>>>24,e>>>16,e>>>8,e,n>>>24,n>>>16,n>>>8,n])}}function i(t,e){const i=4294967296;let n,s=0;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),"object"!=typeof t||void 0===t.length)throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!t.length)throw new Error("Invalid argument: The byte array to deserialize is empty.");if(t instanceof Uint8Array||(t=new Uint8Array(t)),e&&e.multiple)for(n=[];s<t.length;)n.push(r());else n=r();return n;function r(){const e=t[s++];if(e>=0&&e<=127)return e;if(e>=128&&e<=143)return h(e-128);if(e>=144&&e<=159)return d(e-144);if(e>=160&&e<=191)return u(e-160);if(192===e)return null;if(193===e)throw new Error("Invalid byte code 0xc1 found.");if(194===e)return!1;if(195===e)return!0;if(196===e)return c(-1,1);if(197===e)return c(-1,2);if(198===e)return c(-1,4);if(199===e)return p(-1,1);if(200===e)return p(-1,2);if(201===e)return p(-1,4);if(202===e)return l(4);if(203===e)return l(8);if(204===e)return o(1);if(205===e)return o(2);if(206===e)return o(4);if(207===e)return o(8);if(208===e)return a(1);if(209===e)return a(2);if(210===e)return a(4);if(211===e)return a(8);if(212===e)return p(1);if(213===e)return p(2);if(214===e)return p(4);if(215===e)return p(8);if(216===e)return p(16);if(217===e)return u(-1,1);if(218===e)return u(-1,2);if(219===e)return u(-1,4);if(220===e)return d(-1,2);if(221===e)return d(-1,4);if(222===e)return h(-1,2);if(223===e)return h(-1,4);if(e>=224&&e<=255)return e-256;throw console.debug("msgpack array:",t),new Error("Invalid byte value '"+e+"' at index "+(s-1)+" in the MessagePack binary data (length "+t.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function a(e){let i=0,n=!0;for(;e-- >0;)if(n){let e=t[s++];i+=127&e,128&e&&(i-=128),n=!1}else i*=256,i+=t[s++];return i}function o(e){let i=0;for(;e-- >0;)i*=256,i+=t[s++];return i}function l(e){let i=new DataView(t.buffer,s+t.byteOffset,e);return s+=e,4===e?i.getFloat32(0,!1):8===e?i.getFloat64(0,!1):void 0}function c(e,i){e<0&&(e=o(i));let n=t.subarray(s,s+e);return s+=e,n}function h(t,e){t<0&&(t=o(e));let i={};for(;t-- >0;)i[r()]=r();return i}function d(t,e){t<0&&(t=o(e));let i=[];for(;t-- >0;)i.push(r());return i}function u(e,i){e<0&&(e=o(i));let n=s;return s+=e,function(t,e,i){let n=e,s="";for(i+=e;n<i;){let e=t[n++];if(e>127)if(e>191&&e<224){if(n>=i)throw new Error("UTF-8 decode: incomplete 2-byte sequence");e=(31&e)<<6|63&t[n++]}else if(e>223&&e<240){if(n+1>=i)throw new Error("UTF-8 decode: incomplete 3-byte sequence");e=(15&e)<<12|(63&t[n++])<<6|63&t[n++]}else{if(!(e>239&&e<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+e.toString(16)+" at index "+(n-1));if(n+2>=i)throw new Error("UTF-8 decode: incomplete 4-byte sequence");e=(7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++]}if(e<=65535)s+=String.fromCharCode(e);else{if(!(e<=1114111))throw new Error("UTF-8 decode: code point 0x"+e.toString(16)+" exceeds UTF-16 reach");e-=65536,s+=String.fromCharCode(e>>10|55296),s+=String.fromCharCode(1023&e|56320)}}return s}(t,n,e)}function p(t,e){t<0&&(t=o(e));let n=o(1),r=c(t);return 255===n?function(t){if(4===t.length){let e=(t[0]<<24>>>0)+(t[1]<<16>>>0)+(t[2]<<8>>>0)+t[3];return new Date(1e3*e)}if(8===t.length){let e=(t[0]<<22>>>0)+(t[1]<<14>>>0)+(t[2]<<6>>>0)+(t[3]>>>2),n=(3&t[3])*i+(t[4]<<24>>>0)+(t[5]<<16>>>0)+(t[6]<<8>>>0)+t[7];return new Date(1e3*n+e/1e6)}if(12===t.length){let e=(t[0]<<24>>>0)+(t[1]<<16>>>0)+(t[2]<<8>>>0)+t[3];s-=8;let i=a(8);return new Date(1e3*i+e/1e6)}throw new Error("Invalid data length for a date value.")}(r):{type:n,data:r}}}let n={serialize:e,deserialize:i,encode:e,decode:i};t&&"object"==typeof t.exports?t.exports=n:window[window.msgpackJsName||"msgpack"]=n}()},179:function(t,e){var i,n;i=function(){"use strict";function t(){var e={},i=!1;function n(n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i&&"[object Object]"===Object.prototype.toString.call(n[s])?e[s]=t(!0,e[s],n[s]):e[s]=n[s])}"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],s++);for(var s=0;s<arguments.length;s++)n(arguments[s]);return e}function e(e,i){var n={},s=e.getAttribute("data-chaffle"),r=e.getAttribute("data-chaffle-speed"),a=e.getAttribute("data-chaffle-delay");0!==s.length&&(n.lang=s),null!==r&&(n.speed=Number(r)),null!==a&&(n.delay=Number(a)),this.options={lang:"en",speed:20,delay:100},this.options=t(this.options,i,n),this.element=e,this.text=this.element.textContent,this.substitution="",this.state=!1,this.shuffleProps=[],this.reinstateProps=[]}return e.prototype={constructor:e,init:function(){var t=this;if(!t.state){t.clearShuffleTimer(),t.clearReinstateTimer(),t.state=!0,t.substitution="",t.shuffleProps=[],t.reinstateProps=[];var e=setInterval((function(){t.shuffle()}),t.options.speed),i=setInterval((function(){t.reinstate()}),t.options.delay);t.shuffleProps=e,t.reinstateProps=i}},shuffle:function(){this.element.textContent=this.substitution;var t=this.text.length,e=this.substitution.length;if(t-e>0)for(var i=0;i<=t-e;i++)this.element.textContent=this.element.textContent+this.randomStr();else this.clearShuffleTimer()},reinstate:function(){var t=this.text.length,e=this.substitution.length;e<t?this.element.textContent=this.substitution=this.text.substr(0,e+1):this.clearReinstateTimer(),this.state=!1},clearShuffleTimer:function(){return clearInterval(this.shuffleProps)},clearReinstateTimer:function(){return clearInterval(this.reinstateProps)},randomStr:function(){var t;switch(this.options.lang){case"en":t=String.fromCharCode(33+Math.round(99*Math.random()));break;case"ja":t=String.fromCharCode(19968+Math.round(80*Math.random()));break;case"ja-hiragana":t=String.fromCharCode(12353+Math.round(85*Math.random()));break;case"ja-katakana":t=String.fromCharCode(12449+Math.round(85*Math.random()));break;case"ua":t=String.fromCharCode(1040+Math.round(55*Math.random()));break;case"cn":t=String.fromCharCode(19968+Math.floor(20901*Math.random()))}return t}},e},void 0===(n=i.apply(e,[]))||(t.exports=n)},598:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(81),s=i.n(n),r=i(645),a=i.n(r)()(s());a.push([t.id,'.shk{--color-primary:#0d6efd;--color-opac:#b9b9b94d;--color-theme:#fff;--color-secondary:#767676;--color-text:#333;--color-shadow:#b9b6b680;--color-handle-shadow-mobile:#b9b6b6;--background-body:var(--color-theme);--color-title:var(--color-text);--color-artist:var(--color-secondary);--color-button:var(--color-primary);--color-button-disabled:var(--color-opac);--color-button-active-background:var(--color-opac);--color-handle:var(--color-primary);--color-handle-disabled:#b9b9b9;--color-bar-loaded:var(--color-opac);--color-bar-played:var(--color-primary);--color-time:var(--color-secondary);--color-spinner:var(--color-primary);--color-live-symbol:var(--color-primary);--color-live-text:var(--color-primary);--shadow-body:2px 2px 8px -2px var(--color-shadow);--shadow-body-mobile:0 -2px 6px -2px var(--color-shadow);--shadow-handle:0px 2px 10px 2px var(--color-shadow);--shadow-handle-mobile:2px 2px 8px -2px var(--color-handle-shadow-mobile)}.shk[data-theme=dark]{--color-theme:#333;--color-secondary:#b9b6b6;--color-text:#f8f9fa;--color-handle-shadow-mobile:#141414;--color-shadow:#14141480}@media (prefers-color-scheme:dark){.shk[data-theme=auto]{--color-theme:#333;--color-secondary:#b9b6b6;--color-text:#fff;--color-handle-shadow-mobile:#141414;--color-shadow:#14141480}}@-webkit-keyframes rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes marquee{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translateX(-100%);transform:translate(-100%)}}@keyframes marquee{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translateX(-100%);transform:translate(-100%)}}.shk{border:none;color:var(--color-text);cursor:auto;font-family:inherit;font-size:16px;font-weight:400;line-height:1.42;position:relative}.js-focus-visible :focus:not(.focus-visible),.js-focus-visible:focus:not(.focus-visible){outline:none}.shk[data-fixed-type=fixed]{bottom:0;left:0;margin:0;position:fixed;width:100%}.shk[data-fixed-type=fixed][data-fixed-pos=top]{bottom:auto;top:0}.shk[data-seeking] .shk-player{cursor:-webkit-grabbing;cursor:grabbing}.shk button{font-family:inherit}.shk-player{background:var(--background-body);border-radius:2px;box-sizing:border-box;height:120px;position:relative;z-index:10}.shk-body{align-items:stretch;display:flex;flex-flow:row nowrap;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:100%}.shk-cover{background-repeat:no-repeat;background-size:cover;flex:0 0 auto;height:80px;margin-right:16px;width:80px}.shk-main{display:flex;flex-grow:1;flex-wrap:nowrap;justify-content:flex-start;position:relative}.shk-text{overflow:hidden}.shk-artist,.shk-title{margin:auto;white-space:nowrap}.shk-artist{color:var(--color-artist);font-weight:500;text-overflow:clip}.shk-title_wrap[data-overflow]{-webkit-mask-image:linear-gradient(90deg,transparent,#202124 5%,#202124 95%,transparent);mask-image:linear-gradient(90deg,transparent,#202124 5%,#202124 95%,transparent)}.shk-title_inner{display:inline-flex;overflow:visible}.shk-title_wrap[data-overflow] .shk-title_inner{-webkit-animation-duration:inherit;animation-duration:inherit;box-sizing:border-box;padding:0 3%;white-space:nowrap}.shk-title_wrap[data-overflow] .shk-title_inner:after{content:attr(data-title);display:inline-block}.shk-title,.shk-title_wrap[data-overflow] .shk-title_inner:after{color:var(--color-title);font-size:1.33em;font-weight:300}.shk-title_wrap[data-overflow] .shk-title,.shk-title_wrap[data-overflow] .shk-title_inner:after{-webkit-animation:marquee linear infinite;animation:marquee linear infinite;-webkit-animation-duration:inherit;animation-duration:inherit;padding-right:60px}.shk-btn{fill:currentColor;-webkit-appearance:none;appearance:none;background:transparent;border:none;box-sizing:content-box;color:var(--color-button);cursor:pointer;font-size:1em;line-height:normal;padding:10px;position:relative}.shk-btn:disabled{color:var(--color-button-disabled);cursor:not-allowed}.shk-btn:after{background:var(--color-button-active-background);border-radius:50%;content:"";height:100%;left:50%;opacity:0;pointer-events:none;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);transition:opacity 1s cubic-bezier(0,0,.2,1),visibility 1s linear;visibility:hidden;width:100%;z-index:-1}.shk-btn:not(:disabled):active:after{opacity:1;visibility:visible}a.shk-btn:visited{color:var(--color-button)}.shk-btn svg{height:24px;vertical-align:middle;width:24px}.shk-controls{flex:0 0 auto;margin:0 auto;position:relative;width:280px}.shk-controls .shk-btn{border-radius:100%}.shk-controls>div{align-items:center;display:flex;flex-flow:row nowrap}.shk-controls_basic{justify-content:space-between}.shk-controls_extra{background:var(--background-body);bottom:0;height:100%;justify-content:flex-end;margin-right:44px;opacity:0;overflow:hidden;padding-right:0 8px;position:absolute;right:0;transition:width .2s ease-in-out,opacity .1s linear .1s,visibility .2s;visibility:hidden;white-space:nowrap;width:0;z-index:10}.shk[data-extra] .shk-controls_extra{opacity:1;transition:width .2s ease-in-out,opacity .1s linear;visibility:visible;width:calc(100% - 44px)}.shk[data-extra] .shk-controls_extra .shk-btn{display:inline-block}.shk-btn_toggle svg{height:32px;width:32px}.shk[data-play=paused] .shk-btn_play,.shk[data-play=playing] .shk-btn_pause{display:inline}.shk[data-play=paused] .shk-btn_pause,.shk[data-play=playing] .shk-btn_play{display:none}.shk-btn_speed{font-size:.86em;font-weight:400;height:44px;padding:0;width:44px}.shk-btn_more{position:relative;-webkit-transform:none;transform:none;transition:-webkit-transform .2s .1s;transition:transform .2s .1s;transition:transform .2s .1s,-webkit-transform .2s .1s;z-index:11}.shk[data-extra] .shk-btn_more{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.shk[data-mute] svg.shk-btn_mute,svg.shk-btn_unmute{display:inline-block}.shk[data-mute] svg.shk-btn_unmute,svg.shk-btn_mute{display:none}.shk-bar_wrap{cursor:pointer;position:relative;z-index:1}.shk-bar{background:var(--background-body);box-sizing:border-box;height:4px;position:relative;width:100%}.shk-bar_loaded,.shk-bar_played{bottom:0;left:0;position:absolute;top:0;transition:width .1s ease-in;width:0}.shk-bar_loaded{background:var(--color-bar-loaded)}.shk-bar_played{background:var(--color-bar-played)}.shk[data-seeking] .shk-bar_played{transition:none}.shk-bar-handle{background:var(--color-handle);border:0;border-radius:20px;box-sizing:content-box;cursor:-webkit-grab;cursor:grab;height:20px;padding:0;position:absolute;right:-10px;width:20px}.shk-bar-handle:disabled{background-color:var(--color-handle-disabled);box-shadow:none;cursor:not-allowed}.shk-bar-handle:active{cursor:-webkit-grabbing;cursor:grabbing}.shk-display{position:absolute}.shk-loader{color:var(--color-spinner);display:none;vertical-align:middle}.shk[data-loading] .shk-loader{display:inline-block}.shk-loader svg{-webkit-animation:rotate 1.4s linear infinite;animation:rotate 1.4s linear infinite;height:12px;position:relative;width:12px}.shk-visuallyhidden:not(:focus):not(:active){clip:rect(0 0 0 0);border:0;-webkit-clip-path:inset(100%);clip-path:inset(100%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.shk-time{color:var(--color-time);display:inline-block;font-size:.8em;font-weight:300;vertical-align:middle}.shk .shk-live{align-items:center;color:var(--color-live-text);display:none;font-family:sans-serif;font-size:.8em;text-transform:uppercase}.shk .shk-live:before{background:var(--color-live-symbol);border-radius:50%;content:"";height:.5em;margin-right:2px;width:.5em}.shk-icons,.shk[data-live] .shk-bar,.shk[data-live] .shk-time{display:none}.shk[data-live] .shk-live{display:inline-flex}@media (min-width:641px){.shk-player{box-shadow:var(--shadow-body);margin-top:4px;padding:20px 16px}.shk-main{align-items:flex-end;flex-direction:row;max-width:calc(100% - 96px);padding:10px 0}.shk-text{flex:2 1 auto}.shk-bar_wrap{left:0;padding:4px 0 16px;position:absolute;right:0;top:-4px}.shk-bar{transition:height .15s ease-in}.shk-bar_wrap:hover .shk-bar{height:10px}.shk-bar-handle{border:4px solid transparent;box-shadow:var(--shadow-handle);top:-9.5px;-webkit-transform:scale(.0001);transform:scale(.0001);transition:all .1s ease-in}.shk-bar-handle.focus-visible,.shk-bar_wrap:hover .shk-bar-handle:not(:disabled){border-color:#fff;-webkit-transform:scale(.8);transform:scale(.8)}.shk-display{right:8px;top:-6px}.shk-loader{margin-right:4px}.shk-time_duration:before{content:"/";margin:0 4px}}@media (max-width:640px){.shk-player{box-shadow:var(--shadow-body-mobile);padding:5px 16px}.shk[data-fixed-type=auto]{bottom:0;left:0;position:fixed;width:100%}.shk[data-fixed-type=auto][data-fixed-pos=top]{bottom:auto;top:0}.shk[data-live] .shk-bar_wrap{height:4px}.shk-cover{display:none}.shk-main{align-items:center;flex-direction:column;max-width:none;padding:0;width:100%}.shk-text{flex:0 0 auto;text-align:center;width:100%}.shk-artist_wrap{font-size:.8em;line-height:1.1}.shk-artist{display:inline-block}.shk-title,.shk-title_wrap[data-overflow] .shk-title_inner:after{font-size:1em;line-height:1}.shk-bar_wrap{margin:0 60px;padding:8px 0}.shk-bar-handle{box-shadow:var(--shadow-handle-mobile);display:inline-block;top:-8px}.shk-bar{background:var(--color-opac);border-radius:2px}.shk-display{left:0;right:0;top:-16px}.shk-loader{left:-10px;position:absolute;top:-5px}.shk-time{display:flex;flex-flow:row nowrap;font-size:.7em;justify-content:space-between;line-height:1;margin:0 5px}.shk-time_now{text-align:right;width:40px}.shk-time_duration{text-align:left;width:40px}.shk-live{position:absolute;right:0;top:0}}@-webkit-keyframes stretch{0%,to{box-shadow:0 0}50%{box-shadow:0 -5px}}@keyframes stretch{0%,to{box-shadow:0 0}50%{box-shadow:0 -5px}}.shk .shk-controls_extra .shk-btn.shk-btn_chapter{display:none}.shk[data-has-chapter] .shk-controls_extra .shk-btn.shk-btn_chapter{display:inline-block}.shk-chapter{background:var(--color-theme);border:1px solid rgba(0,41,37,.05);border-radius:2px;bottom:0;box-shadow:0 0 10px #00292512;box-sizing:border-box;height:0;left:20px;margin:0 auto;opacity:0;overflow:hidden;position:absolute;right:20px;transition:height .2s ease-in-out,bottom .1s ease-in-out,opacity .1s linear,visibility .1s .2s;visibility:hidden;z-index:0}.shk[data-show-chapter] .shk-chapter{bottom:120px;height:340px;opacity:1;transition:height .2s ease-in-out,bottom .1s ease-in-out,opacity .1s linear;visibility:visible}.shk-btn_close{fill:var(--color-primary);font-size:0;position:absolute;right:4px;top:4px}.shk-btn .shk-icon_close{height:16px;width:16px}.shk-chapter_main{box-sizing:border-box;height:calc(100% - 60px);margin:40px 0 20px;-webkit-mask-image:linear-gradient(180deg,transparent,#202124 5%,#202124 95%,transparent);mask-image:linear-gradient(180deg,transparent,#202124 5%,#202124 95%,transparent);overflow-x:hidden;overflow-y:scroll;padding:0 40px;scroll-behavior:smooth}.shk-chapter_list{box-sizing:border-box;list-style:none;margin:10px 0 0;padding:0}.shk-chapter_item{margin:5px 0}.shk-chapter .shk-chapter_btn{align-items:center;box-sizing:border-box;color:var(--color-text);display:flex;flex-flow:row nowrap;justify-content:flex-start;overflow:hidden;width:100%}.shk-chapter .shk-chapter_btn:after{border-radius:2px}.shk-chapter_btn div{fill:currentColor;color:currentColor}.shk-chapter_item[data-active] .shk-chapter_btn div{color:var(--color-primary);font-weight:600}.shk-icon_chapter{flex-shrink:0;height:12px;width:12px}.shk[data-play=playing] .shk-chapter_item[data-active] .shk-icon_playing,.shk[data-play=playing] .shk-chapter_item[data-active] .shk-icon_playing:after,.shk[data-play=playing] .shk-chapter_item[data-active] .shk-icon_playing:before{display:block}.shk-icon_playing,.shk-icon_playing:after,.shk-icon_playing:before{-webkit-animation:stretch 1s ease-in-out infinite;animation:stretch 1s ease-in-out infinite;background:currentColor;color:currentColor;display:none;height:5px;left:4px;top:6px;width:3px}.shk-icon_playing{-webkit-animation-delay:.16s;animation-delay:.16s;position:relative}.shk-icon_playing:after,.shk-icon_playing:before{content:"";position:absolute;top:0}.shk-icon_playing:before{-webkit-animation-delay:-.16s;animation-delay:-.16s;left:-4px}.shk-icon_playing:after{left:4px}.shk-icon_triangle{align-items:flex-start;display:flex;flex-shrink:0}.shk[data-play=playing] .shk-chapter_item[data-active] .shk-icon_triangle{display:none}.shk-icon_triangle svg{fill:currentColor;height:12px;width:12px}.shk-chapter_duration{color:var(--color-secondary);flex-shrink:0;font-weight:200;margin:0 5%;min-width:60px;text-align:left}.shk-chapter_title_wrap{flex-grow:1;overflow:hidden;white-space:nowrap}.shk-chapter_item[data-active] .shk-chapter_title_wrap[data-overflow]{-webkit-mask-image:linear-gradient(90deg,transparent,#202124 2%,#202124 98%,transparent);mask-image:linear-gradient(90deg,transparent,#202124 2%,#202124 98%,transparent)}.shk-chapter_title_inner{-webkit-animation-duration:inherit;animation-duration:inherit;display:flex}.shk-chapter_item[data-active] .shk-chapter_title_wrap[data-overflow] .shk-chapter_title_inner{box-sizing:border-box;padding:0 3%}.shk-chapter_item[data-active] .shk-chapter_title_wrap[data-overflow] .shk-chapter_title_inner:after{content:attr(data-chapter);display:block}.shk-chapter_title{color:var(--color-text);overflow:hidden;text-align:left;text-overflow:ellipsis}.shk-chapter_item[data-active] .shk-chapter_title{overflow:visible}.shk-chapter_item[data-active] .shk-chapter_title_wrap[data-overflow] .shk-chapter_title,.shk-chapter_item[data-active] .shk-chapter_title_wrap[data-overflow] .shk-chapter_title_inner:after{-webkit-animation:marquee linear infinite;animation:marquee linear infinite;-webkit-animation-duration:inherit;animation-duration:inherit;color:currentColor;padding-right:60px}@media (max-width:640px){.shk-chapter{left:10px;right:10px}.shk-chapter_main{padding:0 10px}}\n',""]);const o=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,s,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);n&&a[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),e.push(h))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},90:t=>{!function(e,i){var n=function(t,e,i){"use strict";var n,s;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in s=t.lazySizesConfig||t.lazysizesConfig||{},i)e in s||(s[e]=i[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:s,noSupport:!0};var r,a,o,l,c,h,d,u,p,f,m,b,v,g,y,k,w,x,_,E,A,C,S,L,z,T,M,O,N,B,I,P,R,q,U,j,$,D,F,H,V,W,X,G,Z=e.documentElement,K=t.HTMLPictureElement,J="addEventListener",Q="getAttribute",Y=t[J].bind(t),tt=t.setTimeout,et=t.requestAnimationFrame||tt,it=t.requestIdleCallback,nt=/^picture$/i,st=["load","error","lazyincluded","_lazyloaded"],rt={},at=Array.prototype.forEach,ot=function(t,e){return rt[e]||(rt[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),rt[e].test(t[Q]("class")||"")&&rt[e]},lt=function(t,e){ot(t,e)||t.setAttribute("class",(t[Q]("class")||"").trim()+" "+e)},ct=function(t,e){var i;(i=ot(t,e))&&t.setAttribute("class",(t[Q]("class")||"").replace(i," "))},ht=function(t,e,i){var n=i?J:"removeEventListener";i&&ht(t,e),st.forEach((function(i){t[n](i,e)}))},dt=function(t,i,s,r,a){var o=e.createEvent("Event");return s||(s={}),s.instance=n,o.initEvent(i,!r,!a),o.detail=s,t.dispatchEvent(o),o},ut=function(e,i){var n;!K&&(n=t.picturefill||s.pf)?(i&&i.src&&!e[Q]("srcset")&&e.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},pt=function(t,e){return(getComputedStyle(t,null)||{})[e]},ft=function(t,e,i){for(i=i||t.offsetWidth;i<s.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},mt=(V=[],W=H=[],G=function(t,i){D&&!i?t.apply(this,arguments):(W.push(t),F||(F=!0,(e.hidden?tt:et)(X)))},G._lsFlush=X=function(){var t=W;for(W=H.length?V:H,D=!0,F=!1;t.length;)t.shift()();D=!1},G),bt=function(t,e){return e?function(){mt(t)}:function(){var e=this,i=arguments;mt((function(){t.apply(e,i)}))}},vt=function(t){var e,n,s=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?tt(r,99-t):(it||s)(s)};return function(){n=i.now(),e||(e=tt(r,99))}},gt=(w=/^img$/i,x=/^iframe$/i,_="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),0,E=0,A=0,C=-1,S=function(t){A--,(!t||A<0||!t.target)&&(A=0)},L=function(t){return null==k&&(k="hidden"==pt(e.body,"visibility")),k||!("hidden"==pt(t.parentNode,"visibility")&&"hidden"==pt(t,"visibility"))},z=function(t,i){var n,s=t,r=L(t);for(b-=i,y+=i,v-=i,g+=i;r&&(s=s.offsetParent)&&s!=e.body&&s!=Z;)(r=(pt(s,"opacity")||1)>0)&&"visible"!=pt(s,"overflow")&&(n=s.getBoundingClientRect(),r=g>n.left&&v<n.right&&y>n.top-1&&b<n.bottom+1);return r},M=function(t){var e,n=0,r=s.throttleDelay,a=s.ricTimeout,o=function(){e=!1,n=i.now(),t()},l=it&&a>49?function(){it(o,{timeout:a}),a!==s.ricTimeout&&(a=s.ricTimeout)}:bt((function(){tt(o)}),!0);return function(t){var s;(t=!0===t)&&(a=33),e||(e=!0,(s=r-(i.now()-n))<0&&(s=0),t||s<9?l():tt(l,s))}}(T=function(){var t,i,r,a,o,l,d,p,w,x,S,T,M=n.elements;if((u=s.loadMode)&&A<8&&(t=M.length)){for(i=0,C++;i<t;i++)if(M[i]&&!M[i]._lazyRace)if(!_||n.prematureUnveil&&n.prematureUnveil(M[i]))q(M[i]);else if((p=M[i][Q]("data-expand"))&&(l=1*p)||(l=E),x||(x=!s.expand||s.expand<1?Z.clientHeight>500&&Z.clientWidth>500?500:370:s.expand,n._defEx=x,S=x*s.expFactor,T=s.hFac,k=null,E<S&&A<1&&C>2&&u>2&&!e.hidden?(E=S,C=0):E=u>1&&C>1&&A<6?x:0),w!==l&&(f=innerWidth+l*T,m=innerHeight+l,d=-1*l,w=l),r=M[i].getBoundingClientRect(),(y=r.bottom)>=d&&(b=r.top)<=m&&(g=r.right)>=d*T&&(v=r.left)<=f&&(y||g||v||b)&&(s.loadHidden||L(M[i]))&&(h&&A<3&&!p&&(u<3||C<4)||z(M[i],l))){if(q(M[i]),o=!0,A>9)break}else!o&&h&&!a&&A<4&&C<4&&u>2&&(c[0]||s.preloadAfterLoad)&&(c[0]||!p&&(y||g||v||b||"auto"!=M[i][Q](s.sizesAttr)))&&(a=c[0]||M[i]);a&&!o&&q(a)}}),N=bt(O=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(S(t),lt(e,s.loadedClass),ct(e,s.loadingClass),ht(e,B),dt(e,"lazyloaded"))}),B=function(t){N({target:t.target})},I=function(t,e){var i=t.getAttribute("data-load-mode")||s.iframeLoadMode;0==i?t.contentWindow.location.replace(e):1==i&&(t.src=e)},P=function(t){var e,i=t[Q](s.srcsetAttr);(e=s.customMedia[t[Q]("data-media")||t[Q]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},R=bt((function(t,e,i,n,r){var a,o,l,c,h,u;(h=dt(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?lt(t,s.autosizesClass):t.setAttribute("sizes",n)),o=t[Q](s.srcsetAttr),a=t[Q](s.srcAttr),r&&(c=(l=t.parentNode)&&nt.test(l.nodeName||"")),u=e.firesLoad||"src"in t&&(o||a||c),h={target:t},lt(t,s.loadingClass),u&&(clearTimeout(d),d=tt(S,2500),ht(t,B,!0)),c&&at.call(l.getElementsByTagName("source"),P),o?t.setAttribute("srcset",o):a&&!c&&(x.test(t.nodeName)?I(t,a):t.src=a),r&&(o||c)&&ut(t,{src:a})),t._lazyRace&&delete t._lazyRace,ct(t,s.lazyClass),mt((function(){var e=t.complete&&t.naturalWidth>1;u&&!e||(e&&lt(t,s.fastLoadedClass),O(h),t._lazyCache=!0,tt((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&A--}),!0)})),q=function(t){if(!t._lazyRace){var e,i=w.test(t.nodeName),n=i&&(t[Q](s.sizesAttr)||t[Q]("sizes")),r="auto"==n;(!r&&h||!i||!t[Q]("src")&&!t.srcset||t.complete||ot(t,s.errorClass)||!ot(t,s.lazyClass))&&(e=dt(t,"lazyunveilread").detail,r&&yt.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,A++,R(t,e,r,n,i))}},U=vt((function(){s.loadMode=3,M()})),$=function(){h||(i.now()-p<999?tt($,999):(h=!0,s.loadMode=3,M(),Y("scroll",j,!0)))},{_:function(){p=i.now(),n.elements=e.getElementsByClassName(s.lazyClass),c=e.getElementsByClassName(s.lazyClass+" "+s.preloadClass),Y("scroll",M,!0),Y("resize",M,!0),Y("pageshow",(function(t){if(t.persisted){var i=e.querySelectorAll("."+s.loadingClass);i.length&&i.forEach&&et((function(){i.forEach((function(t){t.complete&&q(t)}))}))}})),t.MutationObserver?new MutationObserver(M).observe(Z,{childList:!0,subtree:!0,attributes:!0}):(Z[J]("DOMNodeInserted",M,!0),Z[J]("DOMAttrModified",M,!0),setInterval(M,999)),Y("hashchange",M,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){e[J](t,M,!0)})),/d$|^c/.test(e.readyState)?$():(Y("load",$),e[J]("DOMContentLoaded",M),tt($,2e4)),n.elements.length?(T(),mt._lsFlush()):M()},checkElems:M,unveil:q,_aLSL:j=function(){3==s.loadMode&&(s.loadMode=2),U()}}),yt=(a=bt((function(t,e,i,n){var s,r,a;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),nt.test(e.nodeName||""))for(r=0,a=(s=e.getElementsByTagName("source")).length;r<a;r++)s[r].setAttribute("sizes",n);i.detail.dataAttr||ut(t,i.detail)})),o=function(t,e,i){var n,s=t.parentNode;s&&(i=ft(t,s,i),(n=dt(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&a(t,s,n,i))},{_:function(){r=e.getElementsByClassName(s.autosizesClass),Y("resize",l)},checkElems:l=vt((function(){var t,e=r.length;if(e)for(t=0;t<e;t++)o(r[t])})),updateElem:o}),kt=function(){!kt.i&&e.getElementsByClassName&&(kt.i=!0,yt._(),gt._())};return tt((function(){s.init&&kt()})),n={cfg:s,autoSizer:yt,loader:gt,init:kt,uP:ut,aC:lt,rC:ct,hC:ot,fire:dt,gW:ft,rAF:mt}}(e,e.document,Date);e.lazySizes=n,t.exports&&(t.exports=n)}("undefined"!=typeof window?window:{})},379:t=>{"use strict";var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var r={},a=[],o=0;o<t.length;o++){var l=t[o],c=n.base?l[0]+n.base:l[0],h=r[c]||0,d="".concat(c," ").concat(h);r[c]=h+1;var u=i(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var f=s(p,n);n.byIndex=o,e.splice(o,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function s(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,s){var r=n(t=t||[],s=s||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var o=i(r[a]);e[o].references--}for(var l=n(t,s),c=0;c<r.length;c++){var h=i(r[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}r=l}}},569:t=>{"use strict";var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i.nc=void 0,(()=>{"use strict";i(90);var t=i(179),e=i.n(t),n=i(379),s=i.n(n),r=i(795),a=i.n(r),o=i(569),l=i.n(o),c=i(565),h=i.n(c),d=i(216),u=i.n(d),p=i(589),f=i.n(p),m=i(598),b={};b.styleTagTransform=f(),b.setAttributes=h(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=u(),s()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;const v={container:()=>document.querySelector("body"),parser:null,fixed:{type:"auto",position:"bottom"},download:!1,themeColor:"#0d6efd",theme:"auto",autoPlay:!1,muted:!1,preload:"metadata",speedOptions:[.5,.75,1,1.25,1.5],audio:null},g={fixedOptions:["auto","static","fixed"],audioOptions:{title:"Unknown Title",artist:"Unknown Artist",duration:NaN,cover:null,chapters:[],src:null,album:"",live:!1}};function y(t){t=Math.round(t);let e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=Math.floor(t-3600*e-60*i);return i=i<10?"0"+i:i,n=n<10?"0"+n:n,0===e?`${i}:${n}`:(e=e<10?"0"+e:e,`${e}:${i}:${n}`)}function k(t,e,i=60){if(e.offsetWidth-t.offsetWidth>0){t.setAttribute("data-overflow","");const n=e.offsetWidth/i;t.style.animationDuration=`${n}s`}else t.removeAttribute("data-overflow")}function w(t={},e={}){let i=Object.assign({},t);return Object.keys(g.audioOptions).forEach((t=>{i[t]=i[t]||e[t]||g.audioOptions[t]})),i}function x(t){t.tag=t.tag||"div";const e=document.createElement(t.tag);return t.className&&("string"==typeof t.className?e.classList.add(t.className):t.className.forEach((t=>{e.classList.add(t)}))),t.attrs&&Object.keys(t.attrs).forEach((i=>{e.setAttribute(i,t.attrs[i])})),t.innerHTML&&(e.innerHTML=t.innerHTML),e}function _(t,e,i){"boolean"!=typeof i?"function"==typeof t.toggleAttribute?t.toggleAttribute(e):t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):i?t.setAttribute(e,""):t.removeAttribute(e)}function E(t,e,i,n,s,r){const a=(t-e)/1e3/i;r.scrollTop=n+s*a,a<1&&window.requestAnimationFrame((t=>{E(t,e,i,n,s,r)}))}let A,C=null,S=!0;class L{constructor(t){this.mounted=!1,this.icons=x({className:"shk-icons",innerHTML:'\n  <svg class="shk-icons" xmlns="http://www.w3.org/2000/svg">\n    <symbol id="shk-icon_play" viewbox="0 0 64 64">\n      <path\n        d="M32 0a32 32 0 1 1 0 64 32 32 0 0 1 0-64zm-9 17.8c-1 0-1.7.6-1.7 1.4v25.6c0 .8.8 1.4 1.7 1.4 0 0 25-12 26.2-13.1 1-1 .3-1.9.1-2.1z" />\n    </symbol>\n\n    <symbol id="shk-icon_pause" viewbox="0 0 64 64">\n      <path fill-rule="nonzero"\n        d="M32 0a32 32 0 1 0 0 64 32 32 0 0 0 0-64zm-4 40a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V24c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v16zm16 0a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V24c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v16z" />\n    </symbol>\n\n    <symbol id="shk-icon_download" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" />\n    </symbol>\n\n    <symbol id="shk-icon_forward" viewbox="0 0 128 139">\n      <path\n        d="M64 11v14h-.8A50 50 0 1 0 114 75h14a64 64 0 1 1-64-64zm16.9 35c6.6 0 11.8 2.7 15.6 8.3a38 38 0 0 1 5.3 21.4c0 9-1.8 16-5.3 21.3-3.8 5.6-9 8.4-15.6 8.4-6.7 0-12-2.8-15.6-8.4A38 38 0 0 1 60 75.7c0-9 1.8-16.1 5.3-21.4C69 48.7 74.2 46 80.9 46zm-32.5 1v57.1H39V58.3a32.3 32.3 0 0 1-13 7V56a34 34 0 0 0 15.4-9h7zm32.5 7c-4.6 0-7.8 2.4-9.6 7.5-1.3 3.5-2 8.2-2 14.2 0 5.9.7 10.6 2 14.1 1.8 5 5 7.6 9.6 7.6 4.5 0 7.7-2.5 9.6-7.6 1.3-3.5 1.9-8.2 1.9-14.1 0-6-.6-10.7-2-14.2-1.8-5.1-5-7.6-9.5-7.6zM64 0l48 19-48 19V0z" />\n    </symbol>\n\n    <symbol id="shk-icon_backward" viewbox="0 0 128 139">\n      <path\n        d="M64 0v11A64 64 0 1 1 0 75h14a50 50 0 1 0 50-50v13L16 19 64 0zm17 45.8c6.6 0 11.8 2.7 15.6 8.3a38 38 0 0 1 5.3 21.3c0 9-1.8 16.1-5.3 21.4a18 18 0 0 1-15.6 8.3c-6.7 0-12-2.8-15.6-8.3a38 38 0 0 1-5.3-21.4c0-9 1.8-16 5.3-21.3 3.7-5.6 8.9-8.3 15.6-8.3zm-32.4 1V104h-9.4V58.2a32.3 32.3 0 0 1-13 7v-9.4a34 34 0 0 0 15.4-9h7zm32.4 7c-4.6 0-7.8 2.5-9.6 7.6-1.3 3.4-2 8.1-2 14.1s.7 10.7 2 14.2c1.8 5 5 7.6 9.6 7.6 4.5 0 7.7-2.6 9.6-7.6 1.3-3.5 2-8.2 2-14.2s-.7-10.7-2-14.1c-2-5.1-5.1-7.6-9.6-7.6z" />\n    </symbol>\n\n    <symbol id="shk-icon_more" viewbox="0 0 64 64">\n      <path\n        d="M8 24a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm48 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm-24 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm0 0" />\n    </symbol>\n\n    <symbol id="shk-icon_chapter" viewbox="0 0 64 64">\n      <path d="M60.8 55.3H18.1a3.2 3.2 0 1 1 0-6.4h42.8a3.2 3.2 0 0 1 3.1 4.9c-.7 1-1.9 1.6-3.1 1.5zm0-20.2H18.1a3.2 3.2 0 1 1 0-6.4h42.8a3.2 3.2 0 1 1 0 6.4zm0-20H18.1a3.2 3.2 0 1 1 0-6.3h42.8a3.2 3.2 0 0 1 0 6.3zM8.5 12.3a4.2 4.2 0 1 1-8.5 0 4.2 4.2 0 0 1 8.5 0zm0 19.8A4.2 4.2 0 1 1 0 32a4.2 4.2 0 0 1 8.5 0zm0 19.8a4.3 4.3 0 1 1-8.5 0 4.3 4.3 0 0 1 8.5 0zm0 0"/>\n    </symbol>\n\n    <symbol id="shk-icon_unmute" viewBox="0 0 64 66">\n      <path d="M34.3 0c1.5.1 2.6 1.4 2.9 2.8v60.3c-.3 1.4-1.4 2.7-3 2.8-.7.1-1.6-.1-2.6-.7L13.7 50H4.2a4 4 0 0 1-4.1-4V20.6c0-2.2 1.8-4 4-4.1h9.6c.7-.8 17.2-15.1 17.9-15.8 1-.6 1.9-.8 2.6-.7zm6.4 9.3a2 2 0 0 1 2.4-1.6 25.8 25.8 0 0 1 0 50.5l-.4.1a2 2 0 1 1-.4-4.1 21.7 21.7 0 0 0 0-42.5 2 2 0 0 1-1.6-2.4zm4.7 12.8a12.1 12.1 0 0 1 0 21.8 2 2 0 0 1-2.8-1c-.5-1-.1-2.2 1-2.8a8 8 0 0 0 0-14.4 2 2 0 0 1-1-2.7 2 2 0 0 1 2.8-.9zm0 0"/>\n    </symbol>\n\n    <symbol id="shk-icon_mute" viewBox="0 0 64 64">\n      <path d="M33.2 0c-.8 0-1.6.1-2.6.7l-17.4 15H4a4 4 0 0 0-4 4v24.1a4 4 0 0 0 4 4h9.2l17.4 14.5c1 .6 1.8.8 2.6.7 1.4-.1 2.5-1.4 2.8-2.6V2.7C35.7 1.4 34.6 0 33.2 0zm23.2 31.5l6.9-6.8c.7-.6 1-1.5.7-2.4-.2-.8-.9-1.5-1.8-1.7-.8-.2-1.8 0-2.4.7L53 28.1 46 21.3c-.6-.6-1.5-1-2.4-.7-.9.2-1.5.9-1.8 1.7-.2.9.1 1.8.8 2.4l6.9 6.8-7 6.8c-.8 1-.8 2.4.2 3.3.9 1 2.4 1 3.3.1l7-6.8 6.8 6.8c1 .9 2.5.8 3.4 0 1-1 1-2.4 0-3.4l-6.8-6.8zm0 0"/>\n    </symbol>\n\n    <symbol id="shk-icon_triangle" viewbox="0 0 64 64"><path d="M59 29.2L7.8.4A3.2 3.2 0 003 3.2v57.6a3.2 3.2 0 004.8 2.8L59 34.8a3.2 3.2 0 000-5.6z" /></symbol>\n    <symbol id="shk-icon_chart" viewbox="0 0 64 64"><g transform="matrix(1 0 0 -1 0 64)"><rect x="10" width="8" height="54.1" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="64;55;33;5;60;23;58;33;12;14;52;64" calcMode="linear" repeatCount="indefinite"/></rect><rect x="26" width="8" height="32.8" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="50;34;64;23;56;23;34;4;64;54;21;50" calcMode="linear" repeatCount="indefinite"/></rect><rect x="42" width="8" height="42.6" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="30;45;13;64;56;24;45;64;34;23;64;30" calcMode="linear" repeatCount="indefinite"/></rect></g></symbol>\n    <symbol id="shk-icon_close" viewbox="0 0 16 16"><path d="M3.207 14.207a1 1 0 1 1-1.414-1.414l11-11a1 1 0 0 1 1.414 1.414zm11-1.414a1 1 0 0 1-1.414 1.414l-11-11a1 1 0 0 1 1.414-1.414z"></path></symbol>\n  </svg>\n'}),this.initEl(),this.initOptions(t)}async initEl(){this.el=x({className:["shk","shikwasa"],attrs:{"data-name":"shikwasa"},innerHTML:'\n  <div class="shk-player">\n    <div class="shk-bar_wrap">\n      <div class="shk-bar" aria-label="progress bar">\n        <div class="shk-bar_loaded"\n          role="progressbar"\n          aria-label="loaded progress"\n          aria-valuenow="0"\n          aria-valuemin="0"\n          aria-valuemax="1"></div>\n        <div class="shk-bar_played"\n          role="progressbar"\n          aria-label="played progress"\n          aria-valuenow="0"\n          aria-valuemin="0"\n          aria-valuemax="1">\n          <button class="shk-bar-handle"\n            role="slider"\n            aria-label="seek progress"\n            aria-valuenow="0"\n            aria-valuemin="0"\n            aria-orientation="horizontal"\n            aria-valuemax="1"></button>\n        </div>\n      </div>\n    </div>\n    <div class="shk-body">\n      <div class="shk-cover">\n        <div class="shk-img"></div>\n      </div>\n      <div class="shk-main">\n        <div class="shk-text">\n          <div class="shk-artist_wrap">\n            <span class="shk-artist"></span>\n          </div>\n          <div class="shk-title_wrap">\n            <div class="shk-title_inner">\n              <span class="shk-title"></span>\n            </div>\n          </div>\n        </div>\n        <div class="shk-controls">\n          <div class="shk-controls_basic">\n            <button class="shk-btn shk-btn_speed"\n              aria-label="toggle playback rate"\n              title="change playback rate"\n              aria-live="polite">1.0x</button>\n            <button class="shk-btn shk-btn_backward"\n              aria-label="rewind 10 seconds"\n              title="rewind 10 seconds">\n              <svg aria-hidden="true">\n                <use xlink:href="#shk-icon_backward" />\n              </svg>\n            </button>\n            <button class="shk-btn shk-btn_toggle" aria-label="toggle play and pause">\n              <svg class="shk-btn_play" aria-hidden="true">\n                <use xlink:href="#shk-icon_play" />\n              </svg>\n              <svg class="shk-btn_pause" aria-hidden="true">\n                <use xlink:href="#shk-icon_pause" />\n              </svg>\n            </button>\n            <button class="shk-btn shk-btn_forward" aria-label="forward 10 seconds" title="forward 10 seconds">\n              <svg aria-hidden="true">\n                <use xlink:href="#shk-icon_forward" />\n              </svg>\n            </button>\n            <button class="shk-btn shk-btn_more" aria-label="more controls" title="more controls">\n              <svg aria-hidden="true">\n                <use xlink:href="#shk-icon_more" />\n              </svg>\n            </button>\n          </div>\n          <div class="shk-controls_extra">\n            <button class="shk-btn shk-btn_volume" aria-label="toggle volume" title="volume">\n              <svg class="shk-btn_unmute" aria-hidden="true">\n                <use xlink:href="#shk-icon_unmute" />\n              </svg>\n              <svg class="shk-btn_mute" aria-hidden="true">\n                <use xlink:href="#shk-icon_mute" />\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class="shk-display">\n          <span class="shk-loader" aria-live="polite">\n            <span class="shk-visuallyhidden" tabindex="-1">loading</span>\n            <svg aria-hidden="true" aria-label="loading" aria-live="polite" viewbox="0 0 66 66">\n              <circle cx="33" cy="33" r="30" fill="transparent" stroke="url(#shk-gradient)" stroke-dasharray="170"\n                stroke-dashoffset="20" stroke-width="6" />\n              <lineargradient id="shk-gradient">\n                <stop offset="50%" stop-color="currentColor" />\n                <stop offset="65%" stop-color="currentColor" stop-opacity=".5" />\n                <stop offset="100%" stop-color="currentColor" stop-opacity="0" />\n              </lineargradient>\n            </svg>\n          </span>\n          <span class="shk-time">\n            <span class="shk-time_now">00:00</span><span class="shk-time_duration">00:00</span>\n          </span>\n          <div class="shk-live">live</div>\n        </div>\n      </div>\n    </div>\n  </div>\n'}),this.playBtn=this.el.querySelector(".shk-btn_toggle"),this.fwdBtn=this.el.querySelector(".shk-btn_forward"),this.bwdBtn=this.el.querySelector(".shk-btn_backward"),this.speedBtn=this.el.querySelector(".shk-btn_speed"),this.moreBtn=this.el.querySelector(".shk-btn_more"),this.muteBtn=this.el.querySelector(".shk-btn_volume"),this.extraControls=this.el.querySelector(".shk-controls_extra"),this.texts=this.el.querySelector(".shk-text"),this.artist=this.el.querySelector(".shk-artist"),this.artistWrap=this.el.querySelector(".shk-artist_wrap"),this.titleWrap=this.el.querySelector(".shk-title_wrap"),this.titleInner=this.el.querySelector(".shk-title_inner"),this.title=this.el.querySelector(".shk-title"),this.currentTime=this.el.querySelector(".shk-time_now"),this.duration=this.el.querySelector(".shk-time_duration"),this.bar=this.el.querySelector(".shk-bar"),this.barWrap=this.el.querySelector(".shk-bar_wrap"),this.audioPlayed=this.el.querySelector(".shk-bar_played"),this.audioLoaded=this.el.querySelector(".shk-bar_loaded"),this.handle=this.el.querySelector(".shk-bar-handle"),this.cover=this.el.querySelector(".shk-cover"),this.seekControls=[this.fwdBtn,this.bwdBtn,this.handle]}initOptions(t){this.el.style=`--color-primary: ${t.themeColor}`,this.el.setAttribute("data-theme",t.theme),t.download&&t.audio&&t.audio.src&&(this.downloadBtn=x({tag:"a",className:["shk-btn","shk-btn_download"],attrs:{title:"download","aria-label":"download",href:"string"==typeof t.download?t.download:t.audio.src,download:"",target:"_blank",rel:"noopener noreferrer"},innerHTML:'\n          <svg aria-hidden="true">\n            <use xlink:href="#shk-icon_download" />\n          </svg>\n        '}),this.extraControls.append(this.downloadBtn)),this.el.setAttribute("data-fixed-type",t.fixed.type),"static"!==t.fixed.type&&"top"===t.fixed.position&&this.el.setAttribute("data-fixed-pos",t.fixed.position),t.autoPlay?this.setPlaying():this.setPaused(),t.muted&&this.setMute(t.muted)}initEvents(t){this.moreBtn.addEventListener("click",(()=>{_(this.el,"data-extra")})),Array.from(this.extraControls.children).forEach((t=>{this.hideExtraControl(t)})),function(t,e){var i=!0,n=!1,s=null;function r(t){return!!(t&&t!==document&&"HTML"!==t.nodeName&&"BODY"!==t.nodeName&&"classList"in t&&"contains"in t.classList)}function a(t){t.classList.contains("focus-visible")||(t.classList.add("focus-visible"),t.setAttribute("data-focus-visible-added",""))}function o(){i=!1}function l(){t.addEventListener("mousemove",c),t.addEventListener("mousedown",c),t.addEventListener("mouseup",c),t.addEventListener("pointermove",c),t.addEventListener("pointerdown",c),t.addEventListener("pointerup",c),t.addEventListener("touchmove",c,!!e&&{passive:!0}),t.addEventListener("touchstart",c,!!e&&{passive:!0}),t.addEventListener("touchend",c,!!e&&{passive:!0})}function c(){i=!1,t.removeEventListener("mousemove",c),t.removeEventListener("mousedown",c),t.removeEventListener("mouseup",c),t.removeEventListener("pointermove",void 0),t.removeEventListener("pointerdown",c),t.removeEventListener("pointerup",c),t.removeEventListener("touchmove",c,!!e&&{passive:!0}),t.removeEventListener("touchstart",c,!!e&&{passive:!0}),t.removeEventListener("touchend",c,!!e&&{passive:!0})}t.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(r(document.activeElement)&&t.contains(document.activeElement)&&a(document.activeElement),i=!0)}),!0),t.addEventListener("mousedown",o,!0),t.addEventListener("pointerdown",o,!0),t.addEventListener("touchstart",o,!e||{passive:!0,capture:!0}),t.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(n&&(i=!0),l())}),!0),l(),t.addEventListener("focus",(function(t){r(t.target)&&i&&a(t.target)}),!0),t.addEventListener("blur",(function(t){var e;r(t.target)&&(t.target.classList.contains("focus-visible")||t.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(s),s=window.setTimeout((function(){n=!1}),100),(e=t.target).hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added")))}),!0),t.classList.add("js-focus-visible")}(this.el,t),A=()=>{S&&(S=!1,setTimeout((()=>S=!0),100),k.call(this,this.titleWrap,this.title))},window.addEventListener("resize",A)}setAudioInfo(t={}){C&&(URL.revokeObjectURL(C),C=null),/blob/.test(t.cover)&&(C=t.cover),t.cover?this.cover.style.backgroundImage=`url(${t.cover})`:this.cover.style.backgroundImage="none",this.title.innerHTML=t.title,this.titleInner.setAttribute("data-title",t.title),this.artist.innerHTML=t.artist,t.duration&&(this.duration.innerHTML=y(t.duration)),this.downloadBtn&&(this.downloadBtn.href=t.src),this.setBar("loaded",0),this.setLive(t.live),k(this.titleWrap,this.title)}setPlaying(){this.el.setAttribute("data-play","playing")}setPaused(){this.el.setAttribute("data-play","paused"),this.setLoading(!1)}setTime(t,e){this[t].innerHTML=y(e)}setBar(t,e){const i="audio"+t.charAt(0).toUpperCase()+t.substr(1);e=Math.min(e,1),e=Math.max(e,0),this[i].style.width=100*e+"%";const n=e.toFixed(2);this[i].setAttribute("aria-valuenow",n),this.handle.setAttribute("aria-valuenow",n)}setProgress(t=0,e=0,i=0){t&&!e?e=i?t/i:0:t=e*(i||0),this.setTime("currentTime",t),this.setBar("played",e)}setSpeed(t){this.speedBtn.innerHTML=function(t){const e=parseFloat(t).toFixed(2);return"0"===e.slice(-1)?e.slice(0,-1):e}(t)+"x"}setMute(t){_(this.el,"data-mute",t)}setLive(t=!1){_(this.el,"data-live",t)}setLoading(t){_(this.el,"data-loading",t)}setSeeking(t){_(this.el,"data-seeking",t)}setControls(t){this.seekControls.forEach((e=>{_(e,"disabled",!t)}))}getPercentByPos(t){let e=((t.clientX||t.changedTouches&&t.changedTouches[0].clientX||0)-this.barWrap.getBoundingClientRect().left)/this.barWrap.clientWidth;return e=Math.min(e,1),e=Math.max(0,e),e}hideExtraControl(t){t.addEventListener("click",(()=>{setTimeout((()=>{this.el.removeAttribute("data-extra")}),800)}))}mount(t,e){t.innerHTML="",t.append(this.el),this.icons&&t.append(this.icons),this.mounted=!0,this.initEvents(e),k(this.titleWrap,this.title)}destroy(){window.removeEventListener("resize",A),C&&URL.revokeObjectURL(C)}}class z{constructor(){this.audioEvents=["abort","canplay","canplaythrough","complete","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["audioupdate","audioparse"],this.events={}}on(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}trigger(t,e={}){this.events[t]&&this.events[t].length&&this.events[t].forEach((t=>t(e)))}type(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.audioEvents.indexOf(t)?"audio":(console.error(`Shikwasa: unknown event name: ${t}`),null)}destroy(){this.events={}}}const T=[],M=[],O="undefined"!=typeof window&&/mobile/i.test(window.navigator.userAgent),N=O?"touchstart":"mousedown",B=O?"touchmove":"mousemove",I=O?"touchend":"mouseup";let P=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){return P=!0,!1}});window.addEventListener("testPassvie",null,t),window.removeEventListener("testPassvie",null,t)}catch(t){P=!1}const R=P&&O;class q{constructor(t){this.id=T.length,T.push(this),this.comps={},this._audio={},this._hasMediaSession=!1,this._initSeek=0,this.live=!1,this._canplay=!1,this._dragging=!1,this.events=new z,this.options=function(t){const e=Object.assign({},t);return e.audio=Object.assign({},t.audio),Object.keys(v).forEach((t=>{e[t]=e[t]||"boolean"==typeof e[t]?e[t]:v[t]})),"function"==typeof e.container&&(e.container=e.container()),g.fixedOptions.find((t=>t===e.fixed.type))||(e.fixed.type=v.fixed.type),Array.isArray(e.speedOptions)||(e.speedOptions=[e.speedOptions]),-1===e.speedOptions.indexOf(1)&&e.speedOptions.push(1),e.speedOptions=e.speedOptions.map((t=>parseFloat(t))).filter((t=>!isNaN(t))),e.speedOptions.length>1&&e.speedOptions.sort(((t,e)=>t-e)),e}(t),this.renderComponents(),this.initUI(this.options),this.initAudio(),this.ui.mount(this.options.container,P)}get duration(){return this.audio&&this.audio.duration?this.audio.duration:this._audio.duration}get seekable(){return!this.live&&Boolean(this.duration)}set seekable(t){this.ui.setControls(t)}get currentTime(){return this.audio?this.audio.currentTime:void 0}get playbackRate(){return this.audio?this.audio.playbackRate:void 0}set playbackRate(t){this.audio&&(this.audio.playbackRate=t,this.audio.defaultPlaybackRate=t,this.ui.setSpeed(t))}get muted(){return this.audio?this.audio.muted:void 0}set muted(t){this.audio&&(this.audio.muted=t,this.audio.defaultMuted=t,this.ui.setMute(t))}initUI(){this.ui=new L(this.options),this.el=this.ui.el,this.initControlEvents(),this.initBarEvents()}initControlEvents(){this.ui.playBtn.addEventListener("click",(()=>{this.toggle()})),this.ui.muteBtn.addEventListener("click",(()=>{this.muted=!this.muted})),this.ui.fwdBtn.addEventListener("click",(()=>{this.seekBySpan()})),this.ui.bwdBtn.addEventListener("click",(()=>{this.seekBySpan({forward:!1})})),this.ui.speedBtn.addEventListener("click",(()=>{const t=this.options.speedOptions.indexOf(this.playbackRate),e=this.options.speedOptions;this.playbackRate=t+1>=e.length?e[0]:e[t+1]}))}initBarEvents(){let t=0;const e=t=>{this.ui.setProgress(null,this.ui.getPercentByPos(t),this.duration)},i=n=>{n.preventDefault(),document.removeEventListener(B,e),document.removeEventListener(I,i),t=this.ui.getPercentByPos(n)*this.duration,this.seek(t),this._dragging=!1,setTimeout((()=>this.ui.setSeeking(!1)),50)};this.ui.barWrap.addEventListener(N,(t=>{this.seekable&&(t.preventDefault(),this.ui.setSeeking(!0),this._dragging=!0,document.addEventListener(B,e,!!R&&{passive:!0}),document.addEventListener(I,i))})),this.ui.handle.addEventListener("keydown",(t=>{if(!this.seekable)return;const e=t.key.replace("Arrow",""),i=["PageDown","PageUp"],n=["Home","End"],s=-1!==["Left","Down"].indexOf(e),r=-1!==["Right","Up"].indexOf(e),a=e===i[0],o=e===i[1],l=e===n[0],c=e===n[1];if(!s&&!r&&-1===i.indexOf(e)&&-1===n.indexOf(e))return;if(l)return void this.seek(0);if(c)return void this.seek(this.duration);const h=(o||a?.1:.01)*(r||o?1:-1),d=this._canplay?this.currentTime:this._initSeek,u=h*this.duration+d;this.seek(u)}))}initAudio(){this.options.audio.src&&(this.audio=new Audio,this.initAudioEvents(),this.events.audioEvents.forEach((t=>{this.audio.addEventListener(t,(e=>{this.events.trigger(t,e)}))})),this.audio.preload=this.options.preload,this.muted=this.options.muted,this.update(this.options.audio))}initAudioEvents(){this.on("play",(()=>{this.ui.setPlaying(),T.forEach((t=>{t.id!==this.id&&t.audio&&!t.audio.paused&&t.pause()}))})),this.on("pause",(()=>{this.ui.setPaused()})),this.on("ended",(()=>{this.ui.setPaused(),this.seek(0)})),this.on("waiting",(()=>{this.ui.setLoading(!0)})),this.on("durationchange",(()=>{this.duration!==1/0&&this.live&&(this.live=!1),this.duration&&1!==this.duration&&this.duration!==1/0&&(this.seekable=!0,this.ui.setTime("duration",this.duration))})),this.on("canplay",(()=>{this._canplay||(this._canplay=!0,this._initSeek&&(this.seek(this._initSeek),this._initSeek=0)),this.duration!==1/0||this.live||(this.live=!0,this.ui.setLive(this.live))})),this.on("canplaythrough",(()=>{this.ui.setLoading(!1)})),this.on("progress",(()=>{if(this.audio.buffered.length){const t=this.audio.buffered.length?this.audio.buffered.end(this.audio.buffered.length-1)/this.duration:0;this.ui.setBar("loaded",t)}})),this.on("timeupdate",(()=>{this._dragging||this.ui.setProgress(this.audio.currentTime,null,this.duration)})),this.on("abort",(()=>{this.ui.setPaused()})),this.on("audioupdate",(t=>{this.seekable=t.duration&&t.duration!==1/0,this.updateMetadata(t)})),this.on("audioparse",(t=>{this.seekable=t.duration&&t.duration!==1/0,this.updateMetadata(t)}))}initMediaSession(){const t=this;if("mediaSession"in navigator){this._hasMediaSession=!0,this.setMediaMetadata(this._audio);const e={play:this.play.bind(t),pause:this.pause.bind(t),seekforward:this.seekBySpan.bind(t),seekbackward:()=>this.seekBySpan({forward:!1}),seekto:this.seek.bind(t)};Object.keys(e).forEach((t=>{navigator.mediaSession.setActionHandler(t,e[t])}))}}setMediaMetadata(t){const e=t.cover?[{src:t.cover,sizes:"150x150"}]:void 0;"MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:t.title,artist:t.artist,album:t.album,artwork:e}))}on(t,e){this.events.on(t,e)}play(){if(!this.audio.paused)return;const t=this.audio.play();return t instanceof Promise?(t.then((()=>{this.initMediaSession()})),t.catch((t=>{"NotAllowedError"!==t.name&&"NotSupportedError"!==t.name||this.pause()}))):this.initMediaSession(),t}pause(){this.audio.paused||this.audio.pause()}toggle(){return this.audio.paused?this.play():this.pause()}seek(t){this.seekable&&(t=parseInt(t),isNaN(t)&&console.error("Shikwasa: seeking time is NaN"),t=Math.min(t,this.duration),t=Math.max(t,0),this.ui.setProgress(t,null,this.duration),this._canplay?this.audio.currentTime=t:this._initSeek=t)}seekBySpan({time:t=10,forward:e=!0}={}){const i=(this._canplay?this.audio.currentTime:this._initSeek)+t*(e?1:-1);this.seek(i)}update(t){if(!t||!t.src)throw new Error("Shikwasa: audio source is not specified");{this._audio=w(t),this.live=this._audio.live,this._canplay=!1,this.audio.src=this._audio.src,this.events.trigger("audioupdate",this._audio);const e=!(t.title&&t.artist&&t.cover&&t.chapters);!this.live&&this.options.parser&&e&&async function(t={},e={}){const{tags:i}=await function(t,e){return new Promise(((i,n)=>{e.read(t,{onSuccess:i,onError:n})}))}(t.src,e)||{},n=function(t={}){let e,i,n;const{title:s,artist:r}=t;if(t.picture&&t.picture.data&&t.picture.format){const i=new Uint8Array(t.picture.data),n=new Blob([i],{type:t.picture.format});e=URL.createObjectURL(n)}return t.TLEN&&t.TLEN.data&&(n=+t.TLEN.data/1e3),t.CHAP&&t.CHAP.length&&(i=t.CHAP.filter((t=>"CHAP"===t.id)).map((t=>!!(t.data&&t.data.subFrames&&t.data.subFrames.TIT2)&&{id:t.data.id,startTime:t.data.startTime/1e3,endTime:t.data.endTime/1e3,title:t.data.subFrames.TIT2.data})).sort(((t,e)=>t.id-e.id))),{title:s,artist:r,cover:e,duration:n,chapters:i}}(i);return w(t,n)}(Object.assign({},t),this.options.parser).then((t=>{this._audio=t||this._audio,this.events.trigger("audioparse",this._audio)}))}}updateMetadata(t){this.audio.title=t.title,this.ui.setAudioInfo(t),this._hasMediaSession&&this.setMediaMetadata(t)}destroyAudio(){this.audio.pause(),this.audio.src="",this.audio.load(),this.audio=null}destroy(){this.events.destroy(),this.destroyAudio(),this.ui.destroy(),Object.keys(this.comps).forEach((t=>{this.comps[t].destroy&&"function"==typeof this.comps[t].destroy&&this.comps[t].destroy()})),this.comps=null,this.options.container.innerHTML=""}renderComponents(){M.length&&M.forEach((t=>{this.comps[t._name]=new t(this)}))}}let U;q.use=function(t){M.push(t)};class j{constructor(t){this.ctx=t,this.list=[],this.initEvents(),this.current=null,this._currentSrc=null,this._chapterPatched=!1}init(){this.patchPlayer(),this.ui=new $(this.ctx),this.ctx.on("chapterchange",(t=>{const e=t&&t.newVal?t.newVal.id:null;this.ui.setChapterActive(e)}))}initEvents(){this.ctx.on("audioupdate",(t=>{this._chapterPatched||(this.init(),this._chapterPatched=!0),this.updateList(t)})),this.ctx.on("audioparse",(t=>{this.updateList(t)})),this.ctx.on("timeupdate",this.onTimeupdate.bind(this))}clearList(){this.ui.chapterList.innerHTML="",this.list=[],this.current=null}updateList(t){this.list.length&&this.clearList(),t.chapters.length&&(this.list=this.handleChapters(t),this.ui.renderChapterList(this.ctx.chapters),this.clickChapterHandler()),this.ui.handleChapterPanel(this.ctx,t)}handleChapters(t){if(t.chapters&&t.chapters.length)return t.chapters.map(((t,e)=>(/^ch\d+$/.test(t.id)||(t.id=`ch${e}`),t)))}patchPlayer(){const t=this;Object.defineProperties(this.ctx,{chapters:{get:()=>t.list},currentChapter:{get:()=>t.current}}),this.ctx.events.playerEvents.push("chapterchange"),this.ctx.updateChapter=function(t){this.setCurrent(this.list[t]),this.ctx.seek(this.current.startTime),this.ctx.play()}.bind(t)}setCurrent(t){const e=this.current?{...this.current}:null;this.current=t,this.ctx.events.trigger("chapterchange",{newVal:this.current,oldVal:e})}onTimeupdate(t){if(this._currentSrc!==t.currentTarget.src)return void(this._currentSrc=t.currentTarget.src);const e=this.searchDirection(this.ctx.currentTime,this.current);if(e){let t;const i=this.list.indexOf(this.current);t=-1===i?this.list:1===e?this.list.slice(i):this.list.slice(0,i+1);const n=t.find((t=>!this.searchDirection(this.ctx.currentTime,t)));this.setCurrent(n)}}searchDirection(t,e){return t=Math.round(t),!e||"object"!=typeof e||e.endTime<=t?1:e.startTime>t?-1:0}clickChapterHandler(){Array.from(this.ui.chapterList.children).forEach((t=>{t.addEventListener("click",(()=>{if(!this.ctx.seekable)return;let e=t.getAttribute("data-id").match(/\d+$/);e&&this.ctx.updateChapter(+e[0])}))}))}destroy(){this.ui.destroy()}}class ${constructor(t,e){this.initEl(t),this.initEvents(t,e),this.renderChapterList(t.chapters),t.ui.el.append(this.el),this.activeChapterEl=null}initEl(t){this.el=x({className:"shk-chapter",innerHTML:'\n  <div class="shk-chapter_main">\n    <ol class="shk-chapter_list"></ol>\n  </div>\n  <button class="shk-btn shk-btn_close" aria-label="close chapter panel" title="close chapter panel">\n    <svg class="shk-icon_close" aria-hidden="true">\n      <use xlink:href="#shk-icon_close" />\n    </svg>\n  </button>\n'});const e={title:"view chapters","aria-label":"view chapters"};t.seekable||(e.disabled=""),this.chapterBtn=x({tag:"button",className:["shk-btn","shk-btn_chapter"],attrs:e,innerHTML:'\n        <svg aria-hidden="true">\n          <use xlink:href="#shk-icon_chapter" />\n        </svg>\n      '}),t.ui.seekControls.push(this.chapterBtn),t.ui.extraControls.append(this.chapterBtn),this.closeBtn=this.el.querySelector(".shk-btn_close"),this.chapterList=this.el.querySelector(".shk-chapter_list"),this.overflowLayer=this.el.querySelector(".shk-chapter_main")}initEvents(t){this.chapterBtn.addEventListener("click",(()=>{_(t.el,"data-show-chapter")})),t.ui.hideExtraControl(this.chapterBtn),this.closeBtn.addEventListener("click",(()=>{t.el.removeAttribute("data-show-chapter")})),U=()=>{if(!this.activeChapterEl)return;const t=this.activeChapterEl.querySelector(".shk-chapter_title_wrap"),e=this.activeChapterEl.querySelector(".shk-chapter_title");k.call(this,t,e)},window.addEventListener("resize",U)}handleChapterPanel(t,e){e.chapters.length?t.el.setAttribute("data-has-chapter",""):t.el.removeAttribute("data-has-chapter"),e.chapters.length&&t.seekable||t.el.removeAttribute("data-show-chapter")}renderChapterList(t){t.length&&t.forEach((t=>{const e=this.renderChapterItem(t);this.chapterList.append(e)}))}renderChapterItem(t){const e=y(t.startTime);return x({tag:"li",className:"shk-chapter_item",innerHTML:`\n      <button class="shk-btn shk-chapter_btn" title="seek chapter: ${t.title}" aria-label="seek chapter: ${t.title}">\n        <div class="shk-icon_chapter" aria-hidden="true">\n          <span class="shk-icon_playing"></span>\n          <span class="shk-icon_triangle">\n            <svg>\n              <use xlink:href="#shk-icon_triangle" />\n            </svg>\n          </span>\n        </div>\n        <div class="shk-chapter_duration">${e}</div>\n        <div class="shk-chapter_title_wrap">\n          <div class="shk-chapter_title_inner" data-chapter="${t.title}">\n            <div class="shk-chapter_title">${t.title}</div>\n          </div>\n        </div>\n      </button>\n    `,attrs:{"data-id":t.id}})}setChapterActive(t){this.chapterList.querySelectorAll(".shk-chapter_item").forEach((e=>{if(e.getAttribute("data-id")===t){e.setAttribute("data-active",""),this.scrollIntoView(e),this.activeChapterEl=e;const t=e.querySelector(".shk-chapter_title");k(e.querySelector(".shk-chapter_title_wrap"),t)}else e.removeAttribute("data-active")}))}scrollIntoView(t){if("hidden"===this.el.style.visibility)return;const e=window.getComputedStyle(this.overflowLayer).marginTop,i=window.getComputedStyle(this.chapterList).marginTop,n=parseInt(e)+parseInt(i),s=this.overflowLayer.scrollTop+n-t.offsetTop>0||t.offsetTop-this.overflowLayer.scrollTop-this.overflowLayer.offsetHeight>0,r=this.overflowLayer.scrollTop,a=t.offsetTop-r-n,o=performance.now();s&&E(o,o,.2,r,a,this.overflowLayer)}destroy(){window.removeEventListener("resize",U)}}j._name="chapter",console.log("%c🍊%c Shikwasa Podcast Player v2.2.1 %c https://shikwasa.js.org","background-color:#00869B40;padding:4px;","background:#00869B80;color:#fff;padding:4px 0","padding: 2px 0;");const D=((t,e=(t=>void 0!==t?": "+t:""))=>class extends Error{constructor(i){super(t(i)+e(i))}})((()=>"illegal arity")),F=t=>{throw new D(t)},H=(t,e)=>null!=t&&"function"==typeof t[e],V=t=>H(t,"xform")?t.xform():t,W=t=>null!=t&&"function"!=typeof t&&void 0!==t.length;class X{constructor(t){this.value=t}deref(){return this.value}}const G=t=>t instanceof X,Z=t=>t instanceof X?t.deref():t,K=t=>2===t.length?[void 0,t[1]]:3===t.length?[t[1],t[2]]:F(t.length);function J(...t){const e=t[0],i=e[0],n=e[1],s=e[2],r=null==(t=K(t))[0]?i():t[0],a=t[1];return Z(n(H(a,"$reduce")?a.$reduce(s,r):W(a)?Q(s,r,a):Y(s,r,a)))}const Q=(t,e,i)=>{for(let n=0,s=i.length;n<s;n++)if(e=t(e,i[n]),G(e)){e=e.deref();break}return e},Y=(t,e,i)=>{for(let n of i)if(e=t(e,n),G(e)){e=e.deref();break}return e},tt=(t,e)=>[t,t=>t,e],et=t=>null!=t&&"function"==typeof t[Symbol.iterator],it=(t,e)=>[t[0],t[1],e],nt=Symbol(),st=()=>{};function rt(t){return t?[...t]:tt((()=>[]),((t,e)=>(t.push(e),t)))}function*at(t,e){const i=V(t)([st,st,(t,e)=>e])[2];for(let t of e){let e=i(nt,t);if(G(e))return e=Z(e.deref()),void(e!==nt&&(yield e));e!==nt&&(yield e)}}function ot(t,e){return et(e)?at(ot(t),e):e=>{const i=e[2];return it(e,((e,n)=>i(e,t(n))))}}function lt(...t){return ct(lt,J,t)}const ct=(t,e,i)=>{let n,s;switch(i.length){case 4:s=i[3],n=i[2];break;case 3:s=i[2];break;case 2:return ot((e=>t(i[0],i[1],e)));default:F(i.length)}return e(V(i[0])(i[1]),n,s)},ht=((t,e=(t=>void 0!==t?": "+t:""))=>class extends Error{constructor(i){super(t(i)+e(i))}})((()=>"illegal arity")),dt=t=>{throw new ht(t)};function ut(...t){let[e,i,n,s,r,a,o,l,c,h]=t;switch(t.length){case 0:dt(0);case 1:return e;case 2:return(...t)=>e(i(...t));case 3:return(...t)=>e(i(n(...t)));case 4:return(...t)=>e(i(n(s(...t))));case 5:return(...t)=>e(i(n(s(r(...t)))));case 6:return(...t)=>e(i(n(s(r(a(...t))))));case 7:return(...t)=>e(i(n(s(r(a(o(...t)))))));case 8:return(...t)=>e(i(n(s(r(a(o(l(...t))))))));case 9:return(...t)=>e(i(n(s(r(a(o(l(c(...t)))))))));default:const d=(...t)=>e(i(n(s(r(a(o(l(c(h(...t))))))))));return 10===t.length?d:ut(d,...t.slice(10))}}function pt(...t){return t=t.map(V),ut.apply(null,t)}function ft(t,e){return et(e)?function*(t,e){const i=V(t)(rt()),n=i[1],s=i[2];for(let t of e){const e=s([],t);if(G(e))return void(yield*Z(n(e.deref())));e.length&&(yield*e)}yield*Z(n([]))}(ft(t),e):pt(ot(t),(t=>{const e=t[2];return it(t,((t,i)=>{if(i)for(let n of Z(i))if(t=e(t,n),G(t))break;return G(i)?(t=>t instanceof X?t:new X(t))(t):t}))}))}const mt=Array.isArray;function bt(t,e){return et(e)?at(bt(t),e):e=>{const i=e[2];return it(e,((e,n)=>t(n)?i(e,n):e))}}function vt(...t){const e=t.length>2&&((t,e,i=at)=>{const n=e.length-1;return et(e[n])?e.length>1?i(t.apply(null,e.slice(0,n)),e[n]):i(t(),e[0]):void 0})(vt,t);if(e)return e;let i=t[0];if(mt(i)&&(i=i.reduce(((t,e,i)=>(t[e]=i,t)),{})),t[1]){const e=Object.keys(i);return ot((n=>lt(pt(ot((t=>[t,n[i[t]]])),bt((t=>void 0!==t[1]))),t[1],e)))}return ot((t=>{const e=Object.keys(t),[i,n,s]=e,[r,a,o]=e.map((e=>t[e]));switch(e.length){case 3:return t=>{const e={};let l;return l=t[o],void 0!==l&&(e[s]=l),l=t[a],void 0!==l&&(e[n]=l),l=t[r],void 0!==l&&(e[i]=l),e};case 2:return t=>{const e={};let s;return s=t[a],void 0!==s&&(e[n]=s),s=t[r],void 0!==s&&(e[i]=s),e};case 1:return t=>{const e={};let n=t[r];return void 0!==n&&(e[i]=n),e};default:return i=>{let n,s;const r={};for(let a=e.length-1;a>=0;a--)n=e[a],s=i[t[n]],void 0!==s&&(r[n]=s);return r}}})(i))}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var yt=function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,r,a,o=[],l=!0,c=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(t){c=!0,s=t}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?gt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(":"),2),i=e[0],n=e[1];return 60*parseInt(i)+parseInt(n)};const kt="undefined"!=typeof BigInt?"undefined"!=typeof process&&void 0!==process.hrtime&&"function"==typeof process.hrtime.bigint?()=>process.hrtime.bigint():"undefined"!=typeof performance?()=>BigInt(Math.floor(1e6*performance.now())):()=>BigInt(1e6*Date.now()):"undefined"!=typeof performance?()=>1e6*performance.now():()=>1e6*Date.now(),wt=(t,e=kt())=>1e-6*("undefined"!=typeof BigInt?Number(e-t):e-t),xt=(t,e)=>(...i)=>{const n="string"==typeof i[0]?t+i.shift():t,s=i.length,r=s>0?e?{...e,...i[0]}:i[0]:e||null;return s>1?[n,r,...i.slice(1)]:[n,r]},_t=t=>t.map((t=>xt(t))),[Et,At,Ct,St,Lt,zt]=(xt("blockquote"),_t(["div","figure","figcaption","p","pre","template"])),Tt=(xt("hr"),xt("iframe"),xt("form"),xt("fieldset"),xt("legend"),xt("button")),Mt=(xt("input",{type:"checkbox"}),xt("input",{type:"radio"}),xt("input",{type:"color"}),xt("input",{type:"file"}),xt("input",{type:"password"}),xt("input",{type:"number"}),xt("input",{type:"range"}),xt("input",{type:"search"}),xt("input",{type:"text"})),Ot=(xt("textarea"),xt("option"),xt("optgroup"),xt("select"),xt("label"),xt("meter"),xt("progress"),xt("a")),[Nt,Bt,It,Pt,Rt,qt,Ut,jt,$t,Dt,Ft]=(xt("abbr"),xt("br"),xt("data"),xt("q"),xt("time"),_t(["cite","code","em","i","kbd","mark","small","span","strong","sub","sup"])),[Ht,Vt]=_t(["del","ins"]),Wt=Array.isArray,Xt=Object.getPrototypeOf,Gt=t=>{let e;return null!=t&&"object"==typeof t&&(null===(e=Xt(t))||null===Xt(e))},Zt=(t,e)=>null!=t&&"function"==typeof t[e],Kt=t=>Zt(t,"subscribe"),Jt=t=>Zt(t,"mount"),Qt=t=>null!=t&&"function"==typeof t.deref,Yt=t=>Qt(t)?t.deref():t,te=t=>"function"==typeof t,ee=t=>"number"==typeof t,ie=t=>"string"==typeof t,ne=(t,e=(t=>void 0!==t?": "+t:""))=>class extends Error{constructor(i){super(t(i)+e(i))}},se=ne((()=>"unsupported operation")),re=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/,ae={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1},oe=t=>t.split(" ").reduce(((t,e)=>(t[e]=!0,t)),{}),le=oe("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view"),ce=(oe("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml"),oe("animate circle ellipse line path polygon polyline rect"),{accept:",",sizes:",",srcset:","}),he=(t,e)=>{if(null==(e=Yt(e)))return t;if(ie(e))return t+" "+e;const i=new Set(t.split(" "));for(let t in e)Yt(e[t])?i.add(t):i.delete(t);return[...i].join(" ")},de="http://www.w3.org/2000/svg",ue=async(t,e,i=-1)=>{return Wt(t)?pe(t,e,i):Jt(t)?t.mount(e,i):Qt(t)?ue(t.deref(),e):null!=(n=t)&&"string"!=typeof n&&"function"==typeof n[Symbol.iterator]?me(t,e):null!=t?be("span",null,t,e,i):null;var n},pe=(t,e,i)=>{const n=t[0];return ie(n)?fe(t,e,i):Jt(n)?n.mount(e,i,...t.slice(1)):te(n)?ue(n.apply(null,t.slice(1)),e):(t=>{throw new se(t)})(`tag: ${n}`)},fe=(t,e,i)=>{const n=t.length,{0:s,1:r,2:a}=t;if(3===n&&(ie(a)||ee(a))){const t=/^\w+/.exec(s);if(t&&ae[t[0]])return be(s,r,a,e,i)}e=be(s,r,null,e,i);for(let i=2;i<n;i++)ue(t[i],e);return e},me=(t,e)=>{for(let i of t)ue(i,e);return null},be=(t,e,i,n,s=-1)=>{const r=re.exec(t);let a;r&&(e=((t,e,i)=>{e&&(t.id=e);let n=Yt(t.class);return i?(i=i.replace(/\./g," "),t.class=n?he(i,n):i):n&&(t.class=ie(n)?n:he("",n)),t})({...e},r[2],r[3]),t=r[1]);const o=t.indexOf(":");return a=o<0?le[t]?document.createElementNS(de,t):document.createElement(t):document.createElementNS(Se[t.substring(0,o)],t),e&&xe(a,e),null!=i&&ke(a,i),n&&ve(n,a,s),a},ve=(t,e,i=-1)=>{ee(i)?i<0||i>=t.children.length?t.appendChild(e):t.insertBefore(e,t.children[i]):t.insertBefore(e,i)},ge=t=>t.remove(),ye=t=>(t.innerHTML="",t),ke=(t,e)=>{e=String(Yt(e)),t.namespaceURI===de?ye(t).appendChild(document.createTextNode(e)):t.innerText=e},we=(t,e)=>{t.innerHTML=String(Yt(e))},xe=(t,e)=>{for(let i in e)_e(t,i,e[i],e)},_e=(t,e,i,n)=>{var s;if(Zt(i,"deref")&&(i=i.deref()),e.startsWith("on"))ie(i)?t.setAttribute(e,i):(e=e.substring(2),Wt(i)?t.addEventListener(e,i[0],i[1]):t.addEventListener(e,i));else switch(te(i)&&(i=i(n)),Wt(i)&&(i=i.join(ce[e]||" ")),e){case"class":t.className=ie(i)?i:he(t.className,i);break;case"style":Ce(t,i);break;case"value":Ee(t,i);break;case"data":Ae(t,i);break;case"prefix":t.setAttribute(e,ie(i)?i:(s=i,Object.keys(s).reduce(((t,e)=>(t.push(`${e}: ${s[e]}`),t)),[]).join(" ")));break;case"accessKey":case"autocapitalize":case"checked":case"contentEditable":case"dir":case"draggable":case"hidden":case"id":case"indeterminate":case"lang":case"scrollLeft":case"scrollTop":case"selectionEnd":case"selectionStart":case"slot":case"spellcheck":case"tabIndex":case"title":t[e]=i;break;default:{const n=e.indexOf(":");if(n<0)!1===i||null==i?t.removeAttribute(e):t.setAttribute(e,i);else{const s=Se[e.substring(0,n)];!1===i||null==i?t.removeAttributeNS(s,e):t.setAttributeNS(s,e,i)}}}},Ee=(t,e)=>{let i;switch(t.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(i=t.value)&&ie(e)){const n=e.length-(i.length-(t.selectionStart||0));t.value=e,t.selectionStart=t.selectionEnd=n;break}default:t.value=e}},Ae=(t,e)=>{const i=t.dataset;for(let t in e){const n=Yt(e[t]);i[t]=te(n)?n(e):n}},Ce=(t,e)=>{if(ie(e))t.setAttribute("style",e);else{const i=t.style;for(let t in e){let n=Yt(e[t]);te(n)&&(n=n(e)),i[t]=null!=n?n:""}}},Se={svg:de,xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"};let Le=new class{add(t,e){e()}cancel(){}};const ze=t=>function(t){const e=(t=>Wt(t)?t:ie(t)?t.length>0?t.split("."):[]:null!=t?[t]:[])(t),[i,n,s,r]=e;switch(e.length){case 0:return(t,e)=>e;case 1:return(t,e)=>((t=Te(t))[i]=e,t);case 2:return(t,e)=>{let s;return(t=Te(t))[i]=s=Te(t[i]),s[n]=e,t};case 3:return(t,e)=>{let r,a;return(t=Te(t))[i]=r=Te(t[i]),r[n]=a=Te(r[n]),a[s]=e,t};case 4:return(t,e)=>{let a,o,l;return(t=Te(t))[i]=a=Te(t[i]),a[n]=o=Te(a[n]),o[s]=l=Te(o[s]),l[r]=e,t};default:let t;for(let i=e.length;i-- >0;)t=Me(e[i],t);return t}}(t),Te=t=>Wt(t)||(t=>!!t&&(t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint8ClampedArray))(t)?t.slice():{...t},Me=(t,e)=>(i,n)=>((i=Te(i))[t]=e?e(i[t],n):n,i);let Oe=0;const Ne=()=>Oe++,Be=(t,e)=>e&&e.id?e:{...e,id:t+"-"+Ne()},Ie=Symbol(),Pe=()=>{},Re=ne((()=>"Assertion failed")),qe="undefined"==typeof process||void 0===process.env||process.env.UMBRELLA_ASSERTS?(t,e)=>{if("function"==typeof t&&!t()||!t)throw new Re("function"==typeof e?e():e)}:()=>{},Ue=ne((()=>"illegal state"));var je;!function(t){t[t.FINE=0]="FINE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.SEVERE=4]="SEVERE",t[t.NONE=5]="NONE"}(je||(je={}));const $e=Object.freeze({level:je.NONE,fine(){},debug(){},info(){},warn(){},severe(){}}),De=ne((()=>"illegal arity")),Fe=t=>{throw new De(t)};function He(...t){let[e,i,n,s,r,a,o,l,c,h]=t;switch(t.length){case 0:Fe(0);case 1:return e;case 2:return(...t)=>e(i(...t));case 3:return(...t)=>e(i(n(...t)));case 4:return(...t)=>e(i(n(s(...t))));case 5:return(...t)=>e(i(n(s(r(...t)))));case 6:return(...t)=>e(i(n(s(r(a(...t))))));case 7:return(...t)=>e(i(n(s(r(a(o(...t)))))));case 8:return(...t)=>e(i(n(s(r(a(o(l(...t))))))));case 9:return(...t)=>e(i(n(s(r(a(o(l(c(...t)))))))));default:const d=(...t)=>e(i(n(s(r(a(o(l(c(h(...t))))))))));return 10===t.length?d:He(d,...t.slice(10))}}const Ve=t=>Zt(t,"xform")?t.xform():t;function We(...t){return t=t.map(Ve),He.apply(null,t)}class Xe{value;constructor(t){this.value=t}deref(){return this.value}}const Ge=t=>t instanceof Xe,Ze=t=>t instanceof Xe?t.deref():t;function Ke(t,e){return null!=(i=e)&&"function"==typeof i[Symbol.iterator]?function*(t,e){const i=Ve(t)([Pe,Pe,(t,e)=>e])[2];for(let t of e){let e=i(Ie,t);if(Ge(e))return e=Ze(e.deref()),void(e!==Ie&&(yield e));e!==Ie&&(yield e)}}(Ke(t),e):e=>{const i=e[2];return((t,e)=>[t[0],t[1],e])(e,((e,n)=>i(e,t(n))))};var i}var Je,Qe,Ye;!function(t){t[t.IDLE=0]="IDLE",t[t.ACTIVE=1]="ACTIVE",t[t.DONE=2]="DONE",t[t.UNSUBSCRIBED=3]="UNSUBSCRIBED",t[t.ERROR=4]="ERROR"}(Je||(Je={})),(Ye=Qe||(Qe={}))[Ye.NEVER=0]="NEVER",Ye[Ye.FIRST=1]="FIRST",Ye[Ye.LAST=2]="LAST";let ti=$e;class ei{constructor(t,e){this.wrapped=t,this.last=Ie,this.state=Je.IDLE,this.subs=[],e=Be("sub",{closeIn:Qe.LAST,closeOut:Qe.LAST,cache:!0,...e}),this.parent=e.parent,this.id=e.id,this.closeIn=e.closeIn,this.closeOut=e.closeOut,this.cacheLast=e.cache,e.xform&&(this.xform=e.xform([()=>[],t=>t,(t,e)=>(t.push(e),t)]))}deref(){return this.last!==Ie?this.last:void 0}getState(){return this.state}setState(t){this.state=t}subscribe(t,e={}){let i;return this.ensureState(),t instanceof ei&&!e.xform?(t.ensureState(),qe(!t.parent,`sub '${t.id}' already has a parent`),t.parent=this,i=t):i=new ei(t,{...e,parent:this}),this.subs.push(i),this.setState(Je.ACTIVE),i.setState(Je.ACTIVE),this.last!=Ie&&i.next(this.last),i}transform(...t){let e,i;var n;return Gt((n=t)[n.length-1])&&(i=t.pop(),e={error:i.error}),this.subscribe(e,Be("xform",t.length>0?{...i,xform:We(...t)}:i))}map(t,e){return this.transform(Ke(t),e||{})}unsubscribe(t){return t?this.unsubscribeChild(t):this.unsubscribeSelf()}unsubscribeSelf(){return ti.debug(this.id,"unsub self"),this.parent&&this.parent.unsubscribe(this),this.state<Je.UNSUBSCRIBED&&(this.state=Je.UNSUBSCRIBED),this.release(),!0}unsubscribeChild(t){ti.debug(this.id,"unsub child",t.id);const e=this.subs.indexOf(t);return e>=0&&(this.subs.splice(e,1),(this.closeOut===Qe.FIRST||!this.subs.length&&this.closeOut!==Qe.NEVER)&&this.unsubscribe(),!0)}next(t){this.state>=Je.DONE||(this.xform?this.dispatchXform(t):this.dispatch(t))}done(){ti.debug(this.id,"entering done()"),this.state>=Je.DONE||this.xform&&!this.dispatchXformDone()||(this.state=Je.DONE,this.dispatchTo("done")&&this.state<Je.UNSUBSCRIBED&&this.unsubscribe(),ti.debug(this.id,"exiting done()"))}error(t){const e=this.wrapped,i=e&&e.error;return i&&ti.debug(this.id,"attempting wrapped error handler"),i&&e.error(t)||this.unhandledError(t)}unhandledError(t){return(ti!==$e?ti:console).warn(this.id,"unhandled error:",t),this.unsubscribe(),this.state=Je.ERROR,!1}dispatchTo(t,e){let i=this.wrapped;if(i)try{i[t]&&i[t](e)}catch(t){if(!this.error(t))return!1}const n="next"===t?this.subs:[...this.subs];for(let s=n.length;s-- >0;){i=n[s];try{i[t]&&i[t](e)}catch(e){if("error"===t||!i.error||!i.error(e))return this.unhandledError(e)}}return!0}dispatch(t){ti.debug(this.id,"dispatch",t),this.cacheLast&&(this.last=t),this.dispatchTo("next",t)}dispatchXform(t){let e;try{e=this.xform[2]([],t)}catch(t){return void this.error(t)}this.dispatchXformVals(e)&&Ge(e)&&this.done()}dispatchXformDone(){let t;try{t=this.xform[1]([])}catch(t){return this.error(t)}return this.dispatchXformVals(t)}dispatchXformVals(t){const e=Ze(t);for(let t=0,i=e.length;t<i&&this.state<Je.DONE;t++)this.dispatch(e[t]);return this.state<Je.ERROR}ensureState(){this.state>=Je.DONE&&(t=>{throw new Ue(t)})(`operation not allowed in state ${this.state}`)}release(){this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}const ii=t=>(e,i,n)=>({el:void 0,async mount(s,r,a){return this.el=be(e,i,null,s,r),t(this.el,null!=a?a:n),this.el},async unmount(){ge(this.el),this.el=void 0},update(e){Le.add(this,(()=>this.el&&t(this.el,e)))}}),ni=ii(ke);function si(t,e,i){return t.subscribe(new ri(ie(e)?ni(e,i):e))}ii(we);class ri extends ei{constructor(t){super(void 0,{id:`rdom$sub-${Ne()}`}),this.inner=t}async mount(t,e=-1){return this.el=await this.inner.mount(t,e,this.parent.deref())}async unmount(){this.unsubscribe(),Le.cancel(this),this.el=void 0,await this.inner.unmount()}update(t){this.next(t)}next(t){Le.add(this,(()=>this.el&&this.inner.update(t)))}}class ai extends ei{constructor(t,e){super(void 0,{id:`rdom$sub-${Ne()}`}),this.comp=t,this.attr={},this.setter=ze(e)}next(t){const e=this.comp;Le.add(e,(()=>e.el&&xe(e.el,this.setter(this.attr,t))))}}const oi=t=>Wt(t)?ci(t)?hi(t):di(t):Jt(t)?t:Kt(t)?si(t,"span"):ni("span",null,t),li=(t,e,i=[])=>{if(Gt(e))for(const n in e)li(t,e[n],[...i,n]);t(e,i)},ci=t=>{if(Gt(t)){for(const e in t)if(ci(t[e]))return!0}else if(Wt(t))for(let e=0,i=t.length;e<i;e++)if(ci(t[e]))return!0;return Kt(t)||Jt(t)},hi=t=>({async mount(e,i=-1){this.subs=[],li(((t,e)=>{Kt(t)&&this.subs.push(t.subscribe(new ai(this,e)))}),t[1]),this.children=[],this.el=be(t[0],t[1],null,e,i);for(let e=2;e<t.length;e++){const i=oi(t[e]);i.mount(this.el,e-2),this.children.push(i)}return this.el},async unmount(){if(Le.cancel(this),this.children)for(let t of this.children)await t.unmount();this.subs&&this.subs.forEach((t=>t.unsubscribe())),ge(this.el),this.children=void 0,this.subs=void 0,this.el=void 0},update(){}}),di=t=>({async mount(e,i=-1){return this.el=await ue(t,e,i)},async unmount(){ge(this.el),this.el=void 0},update(){}});class ui{async unmount(){this.$remove(),this.el=void 0}update(t){}$el(t,e,i,n=this.el,s){return be(t,e,i,n,s)}$clear(t=this.el){return ye(t)}$compile(t){return oi(t)}$tree(t,e=this.el,i){return ue(t,e,i)}$text(t){this.el&&ke(this.el,t)}$html(t){this.el&&we(this.el,t)}$attribs(t,e=this.el){xe(e,t)}$style(t,e=this.el){Ce(e,t)}$remove(t=this.el){ge(t)}$moveTo(t,e=this.el,i){((t,e,i=-1)=>{ge(e),ve(t,e,i)})(t,e,i)}}class pi extends ui{constructor(t,e,i,n=((t,e)=>t===e)){super(),this.tag=t,this.attribs=e,this.ctor=i,this.equiv=n}async mount(t,e,i){return this.prev=[],this.items=[],this.el=this.$el(this.tag,this.attribs,null,t,e),this.update(i),this.el}async unmount(){this.items.forEach((t=>t.unmount())),this.$remove(),this.el=void 0,this.items=void 0,this.prev=void 0}async update(t){if(!t)return;const{ctor:e,equiv:i,items:n,prev:s,el:r}=this,a=t.length;let o=s.length,l=Math.min(o,a);for(let a=0;a<l;a++)if(!i(s[a],t[a])){await n[a].unmount();const i=t[a],o=oi(e(i));await o.mount(r,a),n[a]=o,s[a]=i}if(o<a)for(;l<a;l++){const i=t[l],a=oi(e(i));await a.mount(r,-1),n[l]=a,s[l]=i}else for(;--o>=a;)await n[o].unmount(),n.pop(),s.pop()}}class fi extends ei{constructor(t,e){const[i,n]=te(t)?[t,e||{}]:[void 0,t||{}];super(n.error?{error:n.error}:void 0,Be("stream",n)),this.src=i,this._inited=!1}subscribe(t,e={}){const i=super.subscribe(t,e);if(!this._inited){if(this.src)try{this._cancel=this.src(this)||(()=>{})}catch(t){let e=this.wrapped;e&&e.error&&e.error(t)||this.unhandledError(t)}this._inited=!0}return i}unsubscribe(t){const e=super.unsubscribe(t);return!e||t&&(this.subs&&this.subs.length||this.closeOut===Qe.NEVER)||this.cancel(),e}done(){this.cancel(),super.done(),delete this.src,delete this._cancel}error(t){return!!super.error(t)||(this.cancel(),!1)}cancel(){if(this._cancel){ti.debug(this.id,"cancel");const t=this._cancel;delete this._cancel,t()}}}var mi=i(461),bi=i.n(mi);const vi=({filename:t,category:e})=>{const[i,n,s,...r]=t.split(".")[0].split("-");return`/${e}/${i}/${n}/${s}/${r.join("-")}.html`},gi=1/2**32;class yi{float(t=1){return this.int()*gi*t}probability(t){return this.float()<t}norm(t=1){return 2*(this.int()*gi-.5)*t}normMinMax(t,e){const i=this.minmax(t,e);return this.float()<.5?i:-i}minmax(t,e){return this.float()*(e-t)+t}minmaxInt(t,e){const i=(0|e)-(t|=0);return i?t+this.int()%i:t}minmaxUint(t,e){const i=(e>>>0)-(t>>>=0);return i?t+this.int()%i:t}}const ki=Math.random,wi=new class extends yi{int(){return 4294967296*ki()>>>0}float(t=1){return ki()*t}norm(t=1){return 2*(ki()-.5)*t}},xi=["mimida","stwind","dvc","大胃麒麟","赵老师","南瓜","kitashin","您好","小水","kohh","zombie","ayano","tofu","rap","乐曲","偶像"],_i=()=>((t,e=wi,i=0,n=t.length)=>t[0|e.minmax(i,n)])(xi),Ei=_i();class Ai extends ui{wrapper;inner;query;queryResults;updateQuery(t){const e=t.target.value;e.length>0&&this.query.next(e.toLowerCase())}async mount(t){this.wrapper=oi(Et({class:""},["h1",{},"Post search"])),this.el=await this.wrapper.mount(t);const e=this.$el("div",{},"Loading search index...",this.el);try{const t=await fetch("assets/search.bin");if(t.status>=400)throw new Error("Failed to load search index");const i=await t.arrayBuffer(),n=((t,e="")=>{const[i,n]=(t=>{const e=kt(),i=t(),n=kt();return[i,wt(e,n)]})(t);return console.log(`${e} ${n.toFixed(2)}ms`),i})((()=>bi().deserialize(i)));this.$remove(e),this.query=((t,e)=>{const i=new fi(void 0);return i.next(t),i})(Ei),this.queryResults=this.query.transform(ot((t=>((t,e)=>t.filter((t=>t.keywords.some((t=>t.startsWith(e))))).map((t=>[t.title,vi(t)])))(n,t)||[]))),this.inner=oi(Et(null,Et({class:"container"},Mt({class:"input",type:"text",autofocus:!0,onchange:this.updateQuery.bind(this),value:this.query}),Tt({class:"button",onclick:()=>this.query.next(_i())},"Randomize")),Et({class:""},this.queryResults.transform(ot((t=>t.length)))," results",Et(null,`(total: ${n.length} posts)`)),si(this.queryResults,new pi("ul",{},(([t,e])=>["li",{},Ot({href:e,target:"_new"},t)]),undefined)))),this.inner.mount(this.el)}catch(t){ke(e,t)}return this.el}async unmount(){this.inner.unmount(),this.wrapper.unmount()}}var Ci=function(){document.querySelectorAll("a").forEach((function(t){t.href.startsWith(document.location.origin)||(t.setAttribute("target","_blank"),t.setAttribute("rel","noopener"))})),document.querySelectorAll("time").forEach((function(t){Date.now()-Date.parse(t.dateTime)<2592e6&&t.parentElement.parentElement.classList.add("latest")})),document.querySelectorAll("[data-chaffle]").forEach((function(t){var i=new(e())(t,{speed:10,delay:20});t.addEventListener("mouseover",(function(){i.init()}))})),function(){q.use(j);var t=document.querySelector(".podcast-player");if(t){var e=t.dataset,i=e.title,n=e.cover,s=e.src,r=e.highlights,a=r?function(t){return lt(pt(ft((function(t){return t.split("\n")})),ot((function(t){return t.split(" ")})),ot((function(t){return[t.slice(2).join(""),yt(t[1]),yt(t[1])+1]})),vt({title:0,startTime:1,endTime:2})),rt(),[t])}(r):null;new q({container:function(){return t},audio:{title:i,artist:"SUBJPOP",cover:n,src:s,chapters:a},themeColor:"#ff4e4e"})}}(),(()=>{const t=document.getElementById("search-app");t&&(new Ai).mount(t)})()};document.addEventListener("DOMContentLoaded",(function(){Ci()}))})()})();